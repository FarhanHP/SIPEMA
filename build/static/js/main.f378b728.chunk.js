(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(11),l=a.n(i),s=a(152),o=a(165),j=a(167),u=a(13),d=a(16),b=a(9),h=a(51),O=a(166),x=a(149),p=a(31),m=function(e){return e.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},f="https://sipema.herokuapp.com/",g="sipema.herokuapp.com",k=a(65),y=a.n(k),v=a(76),w=function(){var e=Object(v.a)(y.a.mark((function e(t,a,n,c,r){var i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:a,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:n,redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(c),signal:r}).catch((function(e){console.warn("Fetch 1 error: ".concat(e.message))}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r){return e.apply(this,arguments)}}(),S=function(e){return w("".concat(f,"b/user/logout"),"DELETE",{token:e})},R=a(168),T=a(145);function E(e){var t=e.severity,a=e.title,c=e.body;return Object(n.jsxs)(R.a,{severity:t,children:[Object(n.jsx)(T.a,{children:a}),c]})}var P=function(){return window.localStorage.getItem("login_token")},M=function(e){window.localStorage.setItem("login_token",e)},C=function(){window.localStorage.removeItem("login_token")};function I(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(null),s=Object(b.a)(l,2),o=s[0],d=s[1],g=Object(c.useState)(!1),k=Object(b.a)(g,2),y=k[0],v=k[1],S=Object(c.useState)(null),R=Object(b.a)(S,2),T=R[0],P=R[1],C=r.a.createRef(),I=r.a.createRef(),A=function(){var e=C.current.value,t=I.current.value;P(null),i(null),d(null),e.length<=0?i("Tidak boleh kosong"):m(e)?t.length<=0?d("Tidak boleh kosong"):(v(!0),function(e,t){return w("".concat(f,"b/user/login"),"POST",{"Content-Type":"application/json"},{email:e,password:t})}(e,t).then((function(e){500===e.status?(P("Terjadi masalah, mohon coba lagi nanti."),v(!1)):e.status>=400?(P("Email atau password salah."),v(!1)):e.json().then((function(e){M(e.token),window.location.href="/"}))}))):i("Email tidak berlaku")};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Login SIPEMA"})}),Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",width:"320px",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(n.jsx)(h.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),T?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(E,{severity:"error",title:"Login Error",body:T})}):null,Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Email",placeholder:"Masukan email anda...",inputRef:C,error:a,helperText:a,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Password",type:"password",placeholder:"Masukan password anda...",inputRef:I,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:y,onClick:A,children:y?"MENCOBA MASUK...":"MASUK"})}),Object(n.jsx)(h.a,{gutterBottom:!0,variant:"body1",align:"center",children:Object(n.jsx)(u.b,{to:"/password/reset",children:"Lupa Password"})}),Object(n.jsxs)(h.a,{gutterBottom:!0,variant:"body1",align:"center",children:["Belum punya akun ? ",Object(n.jsx)(u.b,{to:"/register",children:"Daftar"})]})]})})]})}function A(){return Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"ERROR 404: Halaman yang kamu cari tidak ditemukan :("}),Object(n.jsx)(h.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(n.jsx)(u.b,{href:"/",children:g})})]})})}function B(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(null),s=Object(b.a)(l,2),o=s[0],d=s[1],g=Object(c.useState)(null),k=Object(b.a)(g,2),y=k[0],v=k[1],S=Object(c.useState)(null),R=Object(b.a)(S,2),T=R[0],P=R[1],M=Object(c.useState)(!1),C=Object(b.a)(M,2),I=C[0],A=C[1],B=Object(c.useState)(null),U=Object(b.a)(B,2),D=U[0],N=U[1],L=Object(c.useState)(null),W=Object(b.a)(L,2),G=W[0],H=W[1],F=r.a.createRef(),K=r.a.createRef(),_=r.a.createRef(),J=r.a.createRef(),z=function(){var e=F.current.value,t=K.current.value,a=_.current.value,n=J.current.value;i(null),d(null),v(null),P(null),N(null),H(null),e.length<=0?i("Tidak boleh kosong"):m(e)?t.length<=0?d("Tidak boleh kosong"):a.length<8?v("Password tidak boleh kurang dari 8 karakter"):a!==n?(P("Harus sama"),v("Harus sama")):(A(!0),function(e,t,a){return w("".concat(f,"b/user/register/request"),"POST",{"Content-Type":"application/json"},{email:e,fullname:t,password:a})}(e,t,a).then((function(e){500===e.status?H("Terjadi masalah, mohon coba lagi nanti."):409===e.status?i("Email sudah dipakai"):N("Silakan cek email anda untuk verifikasi"),A(!1)}))):i("Email tidak berlaku")};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Daftar SIPEMA"})}),Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",width:"320px",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(n.jsx)(h.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),D?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(E,{severity:"success",title:"Berhasil Mendaftar",body:D})}):G?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(E,{severity:"error",title:"Gagal Mendaftar",body:G})}):null,Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:F,error:a,helperText:a,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),z())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Nama lengkap",placeholder:"Masukan nama lengkap anda...",fullWidth:!0,inputRef:K,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),z())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Password",type:"password",placeholder:"Masukan password anda...",fullWidth:!0,inputRef:_,error:y,helperText:y,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),z())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Ulangi password",placeholder:"Ulangi password anda...",fullWidth:!0,inputRef:J,error:T,type:"password",helperText:T,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),z())}})}),Object(n.jsx)(j.a,{mt:"40px",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:I,onClick:z,children:I?"MENDAFTAR...":"DAFTAR"})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsxs)(h.a,{align:"center",children:["Sudah punya akun ? ",Object(n.jsx)(u.b,{to:"/login",children:"Login"})]})})]})})]})}var U=a(144),D=a(150);function N(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(!1),s=Object(b.a)(l,2),o=s[0],d=s[1],g=Object(c.useState)(null),k=Object(b.a)(g,2),y=k[0],v=k[1],S=Object(c.useState)(null),R=Object(b.a)(S,2),T=R[0],P=R[1],M=r.a.createRef(),C=function(){i(null),v(null),P(null);var e=M.current.value;e.length<=0?i("Tidak boleh kosong"):m(e)?(d(!0),function(e){return w("".concat(f,"b/user/password/reset"),"POST",{"Content-Type":"application/json"},{email:e})}(e).then((function(e){500===e.status?v("Terjadi masalah, mohon coba lagi nanti."):404===e.status?v("Email tidak terdaftar."):P("Silakan cek email anda. Jika tidak ada, coba cek folder spam."),d(!1)}))):i("Email tidak berlaku")};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Lupa Password SIPEMA"})}),Object(n.jsxs)(j.a,{display:"flex",minHeight:"100vh",width:"100%",flexDirection:"column",children:[Object(n.jsx)(j.a,{p:{xs:"0",sm:"10px"},children:Object(n.jsx)(U.a,{component:u.b,to:"/login",children:Object(n.jsx)(D.a,{})})}),Object(n.jsxs)(j.a,{margin:"auto",width:"320px",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Lupa Password Akun SIPEMA"}),Object(n.jsx)(h.a,{align:"center",gutterBottom:!0,children:"Anda akan dikirimi email yang berisi tautan untuk mengganti password anda."}),T?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(E,{severity:"success",title:"Permintaan reset password berhasil",body:T})}):y?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(E,{severity:"error",title:"Permintaan reset password gagal",body:y})}):null,Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:M,error:a,helperText:a,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),C())}})}),Object(n.jsx)(j.a,{display:"flex",flexDirection:"row-reverse",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:o,onClick:C,children:o?"MERESET PASSWORD...":"RESET PASSWORD"})})]})]})]})}var L=a(151);function W(){return Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsx)(j.a,{margin:"auto",children:Object(n.jsx)(L.a,{number:100})})})}function G(){var e=Object(d.g)().token,t=Object(c.useState)(null),a=Object(b.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(!0),s=Object(b.a)(l,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){u(!0),function(e){return w("".concat(f,"b/user/register/token/").concat(e),"PUT")}(e).then((function(e){500===e.status?(i("ERROR 500: Terjadi masalah, mohon coba lagi nanti."),u(!1)):401===e.status?(i("ERROR 401: Token sudah kadaluarsa."),u(!1)):403===e.status?(i("ERROR 403: Token tidak berlaku."),u(!1)):e.json().then((function(e){M(e.token),window.location.href="/"}))}))}),[e]),o?Object(n.jsx)(W,{}):r?Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(n.jsx)(h.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(n.jsx)("a",{href:"/",children:g})})]})}):Object(n.jsx)("p",{children:"Success"})}function H(){var e=Object(d.g)().token,t=Object(c.useState)(!0),a=Object(b.a)(t,2),i=a[0],l=a[1],s=Object(c.useState)(null),o=Object(b.a)(s,2),m=o[0],k=o[1],y=Object(c.useState)(!1),v=Object(b.a)(y,2),S=v[0],R=v[1],T=Object(c.useState)(null),P=Object(b.a)(T,2),M=P[0],C=P[1],I=Object(c.useState)(null),A=Object(b.a)(I,2),B=A[0],U=A[1],D=Object(c.useState)(null),N=Object(b.a)(D,2),L=N[0],G=N[1],H=Object(c.useState)(null),F=Object(b.a)(H,2),K=F[0],_=F[1],J=r.a.createRef(),z=r.a.createRef();Object(c.useEffect)((function(){l(!0),function(e){return w("".concat(f,"b/user/password/reset/check/token/").concat(e),"GET")}(e).then((function(e){500===e.status?k("ERROR 500: Terjadi masalah, mohon coba lagi nanti."):401===e.status?k("ERROR 401: Token kadaluarsa."):404===e.status&&k("ERROR 404: Token tidak valid."),l(!1)}))}),[e]);var q=function(){G(null),_(null),C(null),U(null);var t=J.current.value,a=z.current.value;t.length<8?C("Panjang password tidak boleh kurang dari 8 karakter"):t!==a?(C("Harus sama"),U("Harus sama")):(R(!0),function(e,t){return w("".concat(f,"b/user/password/reset/token/").concat(e),"PUT",{"Content-Type":"application/json"},{password:t})}(e,t).then((function(e){500===e.status?_("Terjadi masalah, mohon coba lagin nanti."):404===e.status?_("Token tidak valid."):401===e.status?_("Token telah kadaluarsa."):G(Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(h.a,{gutterBottom:!0,children:"Silakan login dengan password baru anda."}),Object(n.jsx)(j.a,{display:"flex",children:Object(n.jsx)(j.a,{margin:"auto",children:Object(n.jsx)(x.a,{color:"primary",component:u.b,to:"/login",children:"LOGIN"})})})]})),R(!1)})))};return i?Object(n.jsx)(W,{}):m?Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:m}),Object(n.jsx)(h.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(n.jsx)(u.b,{to:"/",children:g})})]})}):Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Ganti Password SIPEMA"})}),Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",p:"10px",width:"320px",children:[Object(n.jsx)(h.a,{align:"center",variant:"h5",gutterBottom:!0,children:"Ganti Password Akun SIPEMA"}),L?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(E,{severity:"success",title:"Berhasil Mengganti Password",body:L})}):K?Object(n.jsx)(E,{severity:"error",title:"Gagal Mengganti Password",body:K}):null,Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{type:"password",fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",error:M,helperText:M,inputRef:J,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),q())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{type:"password",fullWidth:!0,label:"Ulangi Password",placeholder:"Ulangi password baru anda...",error:B,helperText:B,inputRef:z,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),q())}})}),Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(x.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:S,onClick:q,children:S?"MENGGANTI PASSWORD...":"GANTI PASSWORD"})})]})})]})}var F=a(36);function K(){var e=P(),t=Object(F.c)((function(e){return e.loginUser})),a=Object(c.useState)(!1),r=Object(b.a)(a,2),i=r[0],l=r[1];return Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",width:"320px",children:[Object(n.jsx)(h.a,{gutterBottom:!0,align:"center",children:"Selamat datang di SIPEMA"}),Object(n.jsx)(j.a,{mb:"30px"}),Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:t.fullname}),Object(n.jsx)(j.a,{mb:"30px"}),Object(n.jsx)(h.a,{gutterBottom:!0,align:"center",children:"Pendaftaran Anda belum disetujui, silakan hubungi guru anda."}),Object(n.jsx)(j.a,{mb:"40px"}),Object(n.jsx)(j.a,{my:"40px",display:"flex",children:Object(n.jsx)(j.a,{margin:"auto",children:Object(n.jsx)(x.a,{color:"primary",disabled:i,onClick:function(){l(!0),S(e).then((function(e){e.ok&&(C(),window.location.href="/login"),l(!1)}))},children:i?"LOGGING OUT...":"LOG OUT"})})})]})})}var _=a(153),J=a(154),z=a(170),q=a(174),$=a(82),Q=a(156),V=a(172),X=a(155),Y=Object(s.a)((function(){return{root:{backgroundColor:"white"}}}));function Z(e){var t=Y(),a=e.loginUser,i=Object(c.useState)(null),l=Object(b.a)(i,2),s=l[0],o=l[1],d=Object(c.useState)(!1),h=Object(b.a)(d,2),O=h[0],p=h[1],m=Object(c.useState)(null),f=Object(b.a)(m,2),g=f[0],k=f[1],y=e.onMenuButtonClick;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(_.a,{className:t.root,elevation:1,children:Object(n.jsxs)(J.a,{children:[Object(n.jsx)(j.a,{width:"50%",display:"flex",children:Object(n.jsx)(z.a,{mdUp:!0,children:Object(n.jsx)(U.a,{size:"small",onClick:y,children:Object(n.jsx)(X.a,{})})})}),Object(n.jsx)(j.a,{width:"50%",display:"flex",flexDirection:"row-reverse",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(U.a,{onClick:function(e){o(e.currentTarget)},size:"small",children:Object(n.jsx)(q.a,{src:a.pp,children:a.fullname.charAt(0)})}),Object(n.jsxs)($.a,{open:s,onClose:function(){o(null)},anchorEl:s,children:[Object(n.jsx)(Q.a,{component:u.b,to:"/profile",children:"Profil"}),Object(n.jsx)(Q.a,{component:x.a,onClick:function(){p(!0),S(P()).then((function(e){e.ok?(C(),window.location.href="/"):(k("Gagal Log Out."),p(!1))}))},disabled:O,children:O?"Logging Out...":"Log Out"})]})]})})]})}),Object(n.jsx)(V.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:g,onClose:function(){k(null)},message:g,autoHideDuration:6e3})]})}var ee=a(173),te=a(164),ae=a(171),ne=a(163),ce=a(148),re=a(108),ie=a(158),le=a(160),se=a(159),oe=a(161),je=a(162),ue=a(157),de=Object(s.a)((function(){return{listBtn:{color:"black",fontWeight:"bold"},listItemIcon:{color:"black"},activeLink:{backgroundColor:ue.a[100],borderRadius:"0 20px 20px 0"}}}));function be(){var e=de();return Object(n.jsxs)(ce.a,{children:[Object(n.jsxs)(re.a,{button:!0,className:e.listBtn,component:u.c,exact:!0,to:"/",activeClassName:e.activeLink,children:[Object(n.jsx)(ie.a,{className:e.listItemIcon,children:Object(n.jsx)(se.a,{})}),Object(n.jsx)(le.a,{primary:"Pengumuman"})]}),Object(n.jsxs)(re.a,{button:!0,className:e.listBtn,component:u.c,to:"/students",activeClassName:e.activeLink,children:[Object(n.jsx)(ie.a,{className:e.listItemIcon,children:Object(n.jsx)(oe.a,{})}),Object(n.jsx)(le.a,{primary:"Manajemen Murid"})]}),Object(n.jsxs)(re.a,{button:!0,className:e.listBtn,component:u.c,to:"/payment",activeClassName:e.activeLink,children:[Object(n.jsx)(ie.a,{className:e.listItemIcon,children:Object(n.jsx)(je.a,{})}),Object(n.jsx)(le.a,{primary:"Riwayat Pembayaran Murid"})]})]})}var he=Object(s.a)((function(){return{root:{backgroundColor:"white"}}}));function Oe(e){var t=e.loginUser,a=Object(c.useState)(!1),i=Object(b.a)(a,2),l=i[0],s=i[1],o=he(),d=Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(j.a,{display:"flex",children:[Object(n.jsx)(z.a,{mdUp:!0,children:Object(n.jsx)(j.a,{my:"auto",children:Object(n.jsx)(U.a,{onClick:function(){s(!1)},children:Object(n.jsx)(ne.a,{})})})}),Object(n.jsx)(j.a,{p:"20px",children:Object(n.jsx)(h.a,{variant:"h4",children:"SIPEMA"})})]}),Object(n.jsx)(x.a,{component:u.b,to:"/profile",children:Object(n.jsxs)(j.a,{display:"flex",children:[Object(n.jsx)(q.a,{src:t.pp,children:t.fullname.charAt(0)}),Object(n.jsx)(j.a,{ml:"10px",my:"auto",width:"200px",children:Object(n.jsx)(ee.a,{title:t.fullname,children:Object(n.jsx)(h.a,{variant:"h6",noWrap:!0,children:t.fullname})})})]})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(te.a,{})}),"teacher"===t.role?Object(n.jsx)(be,{}):null]});return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(Z,{loginUser:t,onMenuButtonClick:function(){s(!0)}}),Object(n.jsx)(z.a,{smDown:!0,children:Object(n.jsx)(ae.a,{variant:"permanent",children:d})}),Object(n.jsx)(z.a,{mdUp:!0,children:Object(n.jsx)(ae.a,{open:l,onClose:function(){s(!1)},children:d})}),Object(n.jsx)(j.a,{className:o.root,width:"100%",minHeight:"100vh",children:Object(n.jsx)(j.a,{pt:"70px",children:e.children})})]})}function xe(){var e=Object(F.c)((function(e){return e.loginUser}));return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(Oe,{loginUser:e})})}function pe(){var e=Object(d.f)(),t=Object(F.b)(),a=Object(F.c)((function(e){return e.loginUser})),i=Object(c.useState)(!0),l=Object(b.a)(i,2),s=l[0],o=l[1];if(Object(c.useEffect)((function(){if(null===a){var n=P();null===n?e.push("/login"):(o(!0),function(e){return w("".concat(f,"b/user/profile"),"GET",{token:e})}(n).then((function(a){a.ok?a.json().then((function(e){t(function(e){return{type:"LOG_IN",payload:e}}(e)),o(!1)})):e.push("/login")})))}}),[a,t,e]),s)return Object(n.jsx)(W,{});var j=null;return"student"===a.role?a.approved||(j=Object(n.jsx)(d.a,{path:"/",children:Object(n.jsx)(K,{})})):"teacher"===a.role&&(j=Object(n.jsx)(d.a,{path:"/",children:Object(n.jsx)(xe,{})})),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"SIPEMA"})}),Object(n.jsx)(d.c,{children:j})]})}var me=Object(s.a)((function(){return{root:{backgroundColor:"white"}}}));var fe=function(){var e=me();return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(o.a,{}),Object(n.jsx)(j.a,{className:e.root,children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{path:"/login",children:Object(n.jsx)(I,{})}),Object(n.jsx)(d.a,{path:"/register/token/:token",children:Object(n.jsx)(G,{})}),Object(n.jsx)(d.a,{path:"/register",children:Object(n.jsx)(B,{})}),Object(n.jsx)(d.a,{path:"/password/reset/token/:token",children:Object(n.jsx)(H,{})}),Object(n.jsx)(d.a,{path:"/password/reset",children:Object(n.jsx)(N,{})}),Object(n.jsx)(d.a,{path:"/",children:Object(n.jsx)(pe,{})}),Object(n.jsx)(d.a,{path:"*",children:Object(n.jsx)(A,{})})]})})})]})},ge=a(43),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return t.payload;case"LOG_OUT":return null;default:return e}},ye=Object(ge.b)({loginUser:ke}),ve=Object(ge.c)(ye);l.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(F.a,{store:ve,children:Object(n.jsx)(fe,{})})}),document.getElementById("root"))}},[[105,1,2]]]);