(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(14),l=n.n(i),s=n(102),o=n(215),j=n(216),u=n(13),b=n(19),d=n(7),h=n(218),x=n(60),O=n(217),p=n(179),m=n(20),f=n(94),g=function(e){return e.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},v=function(e){var t,n=e.split("\n"),c=[],r=Object(f.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;c.push(i),c.push(Object(a.jsx)("br",{}))}}catch(l){r.e(l)}finally{r.f()}return c.pop(),c},y="https://sipema.herokuapp.com/",k="sipema.herokuapp.com",w=n(25),S=n.n(w),C=n(36),T=function(){var e=Object(C.a)(S.a.mark((function e(t,n,a,c,r){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(t,n,a,JSON.stringify(c),r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),E=function(){var e=Object(C.a)(S.a.mark((function e(t,n,a,c,r){var i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:a,redirect:"follow",referrerPolicy:"no-referrer",body:c,signal:r}).catch((function(e){console.warn("Fetch 1 error: ".concat(e.message))}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),P=function(e){return E("".concat(y,"b/user/logout"),"DELETE",{token:e})},B=n(220),N=n(175);function R(e){var t=e.severity,n=e.title,c=e.body;return Object(a.jsxs)(B.a,{severity:t,children:[Object(a.jsx)(N.a,{children:n}),c]})}var M=function(){return window.localStorage.getItem("login_token")},A=function(e){window.localStorage.setItem("login_token",e)},U=function(){window.localStorage.removeItem("login_token")};function I(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],b=Object(c.useState)(!1),f=Object(d.a)(b,2),v=f[0],k=f[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),C=S[0],E=S[1],P=r.a.createRef(),B=r.a.createRef(),N=function(){var e=P.current.value,t=B.current.value;E(null),i(null),j(null),e.length<=0?i("Tidak boleh kosong"):g(e)?t.length<=0?j("Tidak boleh kosong"):(k(!0),function(e,t){return T("".concat(y,"b/user/login"),"POST",{"Content-Type":"application/json"},{email:e,password:t})}(e,t).then((function(e){500===e.status?(E("Terjadi masalah, mohon coba lagi nanti."),k(!1)):e.status>=400?(E("Email atau password salah."),k(!1)):e.json().then((function(e){A(e.token),window.location.href="/"}))}))):i("Email tidak berlaku")};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Login SIPEMA"})}),Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",width:"320px",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),C?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(R,{severity:"error",title:"Login Error",body:C})}):null,Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Email",placeholder:"Masukan email anda...",inputRef:P,error:n,helperText:n,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),N())}})}),Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Password",type:"password",placeholder:"Masukan password anda...",inputRef:B,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),N())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:v,onClick:N,children:v?"MENCOBA MASUK...":"MASUK"})}),Object(a.jsx)(x.a,{gutterBottom:!0,variant:"body1",align:"center",children:Object(a.jsx)(u.b,{to:"/password/reset",children:"Lupa Password"})}),Object(a.jsxs)(x.a,{gutterBottom:!0,variant:"body1",align:"center",children:["Belum punya akun ? ",Object(a.jsx)(u.b,{to:"/register",children:"Daftar"})]})]})})]})}function D(){return Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"ERROR 404: Halaman yang kamu cari tidak ditemukan :("}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(a.jsx)(u.b,{href:"/",children:k})})]})})}function G(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],b=Object(c.useState)(null),f=Object(d.a)(b,2),v=f[0],k=f[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),C=S[0],E=S[1],P=Object(c.useState)(!1),B=Object(d.a)(P,2),N=B[0],M=B[1],A=Object(c.useState)(null),U=Object(d.a)(A,2),I=U[0],D=U[1],G=Object(c.useState)(null),H=Object(d.a)(G,2),L=H[0],F=H[1],W=r.a.createRef(),z=r.a.createRef(),_=r.a.createRef(),K=r.a.createRef(),J=function(){var e=W.current.value,t=z.current.value,n=_.current.value,a=K.current.value;i(null),j(null),k(null),E(null),D(null),F(null),e.length<=0?i("Tidak boleh kosong"):g(e)?t.length<=0?j("Tidak boleh kosong"):n.length<8?k("Password tidak boleh kurang dari 8 karakter"):n!==a?(E("Harus sama"),k("Harus sama")):(M(!0),function(e,t,n){return T("".concat(y,"b/user/register/request"),"POST",{"Content-Type":"application/json"},{email:e,fullname:t,password:n})}(e,t,n).then((function(e){500===e.status?F("Terjadi masalah, mohon coba lagi nanti."):409===e.status?i("Email sudah dipakai"):D("Silakan cek email anda untuk verifikasi"),M(!1)}))):i("Email tidak berlaku")};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Daftar SIPEMA"})}),Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",width:"320px",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),I?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(R,{severity:"success",title:"Berhasil Mendaftar",body:I})}):L?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(R,{severity:"error",title:"Gagal Mendaftar",body:L})}):null,Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:W,error:n,helperText:n,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Nama lengkap",placeholder:"Masukan nama lengkap anda...",fullWidth:!0,inputRef:z,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Password",type:"password",placeholder:"Masukan password anda...",fullWidth:!0,inputRef:_,error:v,helperText:v,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Ulangi password",placeholder:"Ulangi password anda...",fullWidth:!0,inputRef:K,error:C,type:"password",helperText:C,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(a.jsx)(h.a,{mt:"40px",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:N,onClick:J,children:N?"MENDAFTAR...":"DAFTAR"})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsxs)(x.a,{align:"center",children:["Sudah punya akun ? ",Object(a.jsx)(u.b,{to:"/login",children:"Login"})]})})]})})]})}var H=n(174),L=n(180);function F(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(!1),s=Object(d.a)(l,2),o=s[0],j=s[1],b=Object(c.useState)(null),f=Object(d.a)(b,2),v=f[0],k=f[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),C=S[0],E=S[1],P=r.a.createRef(),B=function(){i(null),k(null),E(null);var e=P.current.value;e.length<=0?i("Tidak boleh kosong"):g(e)?(j(!0),function(e){return T("".concat(y,"b/user/password/reset"),"POST",{"Content-Type":"application/json"},{email:e})}(e).then((function(e){500===e.status?k("Terjadi masalah, mohon coba lagi nanti."):404===e.status?k("Email tidak terdaftar."):E("Silakan cek email anda. Jika tidak ada, coba cek folder spam."),j(!1)}))):i("Email tidak berlaku")};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Lupa Password SIPEMA"})}),Object(a.jsxs)(h.a,{display:"flex",minHeight:"100vh",width:"100%",flexDirection:"column",children:[Object(a.jsx)(h.a,{p:{xs:"0",sm:"10px"},children:Object(a.jsx)(H.a,{component:u.b,to:"/login",children:Object(a.jsx)(L.a,{})})}),Object(a.jsxs)(h.a,{margin:"auto",width:"320px",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Lupa Password Akun SIPEMA"}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Anda akan dikirimi email yang berisi tautan untuk mengganti password anda."}),C?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(R,{severity:"success",title:"Permintaan reset password berhasil",body:C})}):v?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(R,{severity:"error",title:"Permintaan reset password gagal",body:v})}):null,Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:P,error:n,helperText:n,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),B())}})}),Object(a.jsx)(h.a,{display:"flex",flexDirection:"row-reverse",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:o,onClick:B,children:o?"MERESET PASSWORD...":"RESET PASSWORD"})})]})]})]})}var W=n(181);function z(){return Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(W.a,{number:100})})})}function _(){var e=Object(b.h)().token,t=Object(c.useState)(null),n=Object(d.a)(t,2),r=n[0],i=n[1],l=Object(c.useState)(!0),s=Object(d.a)(l,2),o=s[0],j=s[1];return Object(c.useEffect)((function(){j(!0),function(e){return E("".concat(y,"b/user/register/token/").concat(e),"PUT")}(e).then((function(e){500===e.status?(i("ERROR 500: Terjadi masalah, mohon coba lagi nanti."),j(!1)):401===e.status?(i("ERROR 401: Token sudah kadaluarsa."),j(!1)):403===e.status?(i("ERROR 403: Token tidak berlaku."),j(!1)):e.json().then((function(e){A(e.token),window.location.href="/"}))}))}),[e]),o?Object(a.jsx)(z,{}):r?Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(a.jsx)("a",{href:"/",children:k})})]})}):Object(a.jsx)("p",{children:"Success"})}function K(){var e=Object(b.h)().token,t=Object(c.useState)(!0),n=Object(d.a)(t,2),i=n[0],l=n[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),j=o[0],f=o[1],g=Object(c.useState)(!1),v=Object(d.a)(g,2),w=v[0],S=v[1],C=Object(c.useState)(null),P=Object(d.a)(C,2),B=P[0],N=P[1],M=Object(c.useState)(null),A=Object(d.a)(M,2),U=A[0],I=A[1],D=Object(c.useState)(null),G=Object(d.a)(D,2),H=G[0],L=G[1],F=Object(c.useState)(null),W=Object(d.a)(F,2),_=W[0],K=W[1],J=r.a.createRef(),V=r.a.createRef();Object(c.useEffect)((function(){l(!0),function(e){return E("".concat(y,"b/user/password/reset/check/token/").concat(e),"GET")}(e).then((function(e){500===e.status?f("ERROR 500: Terjadi masalah, mohon coba lagi nanti."):401===e.status?f("ERROR 401: Token kadaluarsa."):404===e.status&&f("ERROR 404: Token tidak valid."),l(!1)}))}),[e]);var X=function(){L(null),K(null),N(null),I(null);var t=J.current.value,n=V.current.value;t.length<8?N("Panjang password tidak boleh kurang dari 8 karakter"):t!==n?(N("Harus sama"),I("Harus sama")):(S(!0),function(e,t){return T("".concat(y,"b/user/password/reset/token/").concat(e),"PUT",{"Content-Type":"application/json"},{password:t})}(e,t).then((function(e){500===e.status?K("Terjadi masalah, mohon coba lagin nanti."):404===e.status?K("Token tidak valid."):401===e.status?K("Token telah kadaluarsa."):L(Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(x.a,{gutterBottom:!0,children:"Silakan login dengan password baru anda."}),Object(a.jsx)(h.a,{display:"flex",children:Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(p.a,{color:"primary",component:u.b,to:"/login",children:"LOGIN"})})})]})),S(!1)})))};return i?Object(a.jsx)(z,{}):j?Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:j}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(a.jsx)(u.b,{to:"/",children:k})})]})}):Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Ganti Password SIPEMA"})}),Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",p:"10px",width:"320px",children:[Object(a.jsx)(x.a,{align:"center",variant:"h5",gutterBottom:!0,children:"Ganti Password Akun SIPEMA"}),H?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(R,{severity:"success",title:"Berhasil Mengganti Password",body:H})}):_?Object(a.jsx)(R,{severity:"error",title:"Gagal Mengganti Password",body:_}):null,Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{type:"password",fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",error:B,helperText:B,inputRef:J,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),X())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{type:"password",fullWidth:!0,label:"Ulangi Password",placeholder:"Ulangi password baru anda...",error:U,helperText:U,inputRef:V,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),X())}})}),Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:w,onClick:X,children:w?"MENGGANTI PASSWORD...":"GANTI PASSWORD"})})]})})]})}var J=n(16),V=function(e){return{type:"LOG_IN",payload:e}};function X(){var e=M(),t=Object(J.c)((function(e){return e.loginUser})),n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],l=r[1];return Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",width:"320px",children:[Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"Selamat datang di SIPEMA"}),Object(a.jsx)(h.a,{mb:"30px"}),Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:t.fullname}),Object(a.jsx)(h.a,{mb:"30px"}),Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"Pendaftaran Anda belum disetujui, silakan hubungi guru anda."}),Object(a.jsx)(h.a,{mb:"40px"}),Object(a.jsx)(h.a,{my:"40px",display:"flex",children:Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(p.a,{color:"primary",disabled:i,onClick:function(){l(!0),P(e).then((function(e){e.ok&&(U(),window.location.href="/login"),l(!1)}))},children:i?"LOGGING OUT...":"LOG OUT"})})})]})})}var Y=n(193),q=n(182),$=n(183),Q=n(184),Z=n(221),ee=n(224),te=n(103),ne=n(186),ae=n(222),ce=n(185),re=Object(q.a)((function(){return{root:{backgroundColor:"white"}}}));function ie(e){var t=re(),n=e.loginUser,i=Object(c.useState)(null),l=Object(d.a)(i,2),s=l[0],o=l[1],j=Object(c.useState)(!1),b=Object(d.a)(j,2),x=b[0],O=b[1],m=Object(c.useState)(null),f=Object(d.a)(m,2),g=f[0],v=f[1],y=e.onMenuButtonClick;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)($.a,{className:t.root,elevation:1,children:Object(a.jsxs)(Q.a,{children:[Object(a.jsx)(h.a,{width:"50%",display:"flex",children:Object(a.jsx)(Z.a,{mdUp:!0,children:Object(a.jsx)(H.a,{size:"small",onClick:y,children:Object(a.jsx)(ce.a,{})})})}),Object(a.jsx)(h.a,{width:"50%",display:"flex",flexDirection:"row-reverse",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(H.a,{onClick:function(e){o(e.currentTarget)},size:"small",children:Object(a.jsx)(ee.a,{src:n.pp,children:n.fullname.charAt(0)})}),Object(a.jsxs)(te.a,{open:s,onClose:function(){o(null)},anchorEl:s,children:[Object(a.jsx)(ne.a,{component:u.b,to:"/profile",children:"Profil"}),Object(a.jsx)(ne.a,{component:p.a,onClick:function(){O(!0),P(M()).then((function(e){e.ok?(U(),window.location.href="/"):(v("Gagal Log Out."),O(!1))}))},disabled:x,children:x?"Logging Out...":"Log Out"})]})]})})]})}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:g,onClose:function(){v(null)},message:g,autoHideDuration:6e3})]})}var le=n(223),se=n(195),oe=n(225),je=n(194),ue=n(178),be=n(138),de=n(188),he=n(190),xe=n(189),Oe=n(191),pe=n(192),me=n(187),fe=Object(q.a)((function(){return{listBtn:{color:"black",fontWeight:"bold"},listItemIcon:{color:"black"},activeLink:{backgroundColor:me.a[100],borderRadius:"0 20px 20px 0"}}}));function ge(){var e=fe();return Object(a.jsxs)(ue.a,{children:[Object(a.jsxs)(be.a,{button:!0,className:e.listBtn,component:u.c,exact:!0,to:"/",activeClassName:e.activeLink,children:[Object(a.jsx)(de.a,{className:e.listItemIcon,children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)(he.a,{primary:"Pengumuman"})]}),Object(a.jsxs)(be.a,{button:!0,className:e.listBtn,component:u.c,to:"/students",activeClassName:e.activeLink,children:[Object(a.jsx)(de.a,{className:e.listItemIcon,children:Object(a.jsx)(Oe.a,{})}),Object(a.jsx)(he.a,{primary:"Manajemen Murid"})]}),Object(a.jsxs)(be.a,{button:!0,className:e.listBtn,component:u.c,to:"/payment",activeClassName:e.activeLink,children:[Object(a.jsx)(de.a,{className:e.listItemIcon,children:Object(a.jsx)(pe.a,{})}),Object(a.jsx)(he.a,{primary:"Riwayat Pembayaran Murid"})]}),Object(a.jsxs)(be.a,{button:!0,className:e.listBtn,component:u.c,to:"/log",activeClassName:e.activeLink,children:[Object(a.jsx)(de.a,{className:e.listItemIcon,children:Object(a.jsx)(Y.a,{})}),Object(a.jsx)(he.a,{primary:"Log Aktivitas Pengguna"})]})]})}var ve=Object(q.a)((function(){return{root:{backgroundColor:"white"}}}));function ye(e){var t=e.loginUser,n=Object(c.useState)(!1),i=Object(d.a)(n,2),l=i[0],s=i[1],o=ve(),j=Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(Z.a,{mdUp:!0,children:Object(a.jsx)(h.a,{my:"auto",children:Object(a.jsx)(H.a,{onClick:function(){s(!1)},children:Object(a.jsx)(je.a,{})})})}),Object(a.jsx)(h.a,{p:"20px",children:Object(a.jsx)(x.a,{variant:"h4",children:"SIPEMA"})})]}),Object(a.jsx)(p.a,{component:u.b,to:"/profile",children:Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(ee.a,{src:t.pp,children:t.fullname.charAt(0)}),Object(a.jsx)(h.a,{ml:"10px",my:"auto",width:"200px",children:Object(a.jsx)(le.a,{title:t.fullname,children:Object(a.jsx)(x.a,{variant:"h6",noWrap:!0,children:t.fullname})})})]})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(se.a,{})}),"teacher"===t.role?Object(a.jsx)(ge,{}):null]});return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(ie,{loginUser:t,onMenuButtonClick:function(){s(!0)}}),Object(a.jsx)(Z.a,{smDown:!0,children:Object(a.jsx)(oe.a,{variant:"permanent",children:j})}),Object(a.jsx)(Z.a,{mdUp:!0,children:Object(a.jsx)(oe.a,{open:l,onClose:function(){s(!1)},children:j})}),Object(a.jsx)(h.a,{className:o.root,width:"100%",minHeight:"100vh",children:Object(a.jsx)(h.a,{pt:"90px",ml:{md:"290px"},px:"10px",children:e.children})})]})}var ke=n(196),we=n(197),Se=n(27),Ce=n.n(Se);function Te(e){var t=e.icon,n=e.title;return Object(a.jsxs)(ke.a,{container:!0,children:[Object(a.jsx)(ke.a,{item:!0,xs:12,sm:8,children:Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(h.a,{my:"auto",mr:"10px",children:t}),Object(a.jsx)(x.a,{variant:"h4",children:n})]})}),Object(a.jsx)(Z.a,{only:"xs",children:Object(a.jsx)(ke.a,{item:!0,sm:4,children:Object(a.jsxs)(h.a,{display:"flex",flexDirection:"row-reverse",width:"100%",height:"100%",children:[Object(a.jsx)(h.a,{my:"auto",children:Object(a.jsx)(x.a,{children:Ce()().format("ll")})}),Object(a.jsx)(h.a,{mr:"10px",display:"flex",alignItems:"center",children:Object(a.jsx)(we.a,{})})]})})})]})}var Ee=function(e,t,n){return T("".concat(y,"b/log/get/").concat(t,"/").concat(n),"GET",{token:e})},Pe=n(198),Be=n(199),Ne=n(200),Re=n(201),Me=n(202),Ae=n(203),Ue=n(204),Ie=n(6),De=n(226),Ge=n(84),He=Object(Ie.a)({missingOppositeContent:{"&:before":{display:"none"}}})(Pe.a),Le=Object(q.a)((function(){return{time:{color:"grey",fontSize:"0.9rem"}}}));function Fe(){for(var e=Le(),t=Object(J.c)((function(e){return e.loginUser})),n=Object(c.useState)([]),r=Object(d.a)(n,2),i=r[0],l=r[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),j=o[0],u=o[1],b=Object(c.useState)(!1),O=Object(d.a)(b,2),f=O[0],g=O[1],v=[],y=0;y<10;y++)v.push(Object(a.jsx)(h.a,{my:"10px",children:Object(a.jsx)(Be.a,{variant:"rect",height:"60px",width:"100%"})}));Object(c.useEffect)((function(){Ee(M(),0,10).then((function(e){e.ok?e.json().then((function(e){l(e.logs);var t=e.total;g(e.logs.length<t),u(!1)})):u(!1)}))}),[]);var k=null;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Aktivitas Pengguna SIPEMA"})}),Object(a.jsxs)(ye,{loginUser:t,children:[Object(a.jsx)(Te,{icon:Object(a.jsx)(Y.a,{fontSize:"large"}),title:"Log Aktivitas Pengguna"}),Object(a.jsxs)(h.a,{pl:{xs:0,lg:"100px"},mt:"50px",children:[Object(a.jsxs)(Ne.a,{children:[i.map((function(t,n,r){var i=t.created,l=t.user.fullname,s=t.desc,o=t.user.pp,j=Ce.a.unix(i).format("ll"),u=!1;return k!==j&&(k=j,u=!0),Object(a.jsxs)(c.Fragment,{children:[u?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(De.a,{label:j})}):null,Object(a.jsxs)(He,{children:[Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Me.a,{}),r.length-1===n?null:Object(a.jsx)(Ae.a,{})]}),Object(a.jsx)(Ue.a,{children:Object(a.jsxs)(h.a,{display:"flex",component:Ge.a,elevation:3,p:"10px",children:[Object(a.jsxs)(h.a,{width:"100%",display:"flex",children:[Object(a.jsx)(h.a,{display:"flex",alignItems:"center",mr:"10px",children:Object(a.jsx)(ee.a,{src:o,children:l.charAt(0)})}),Object(a.jsx)(h.a,{display:"flex",alignItems:"center",children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)("b",{children:l})," ",s]})})]}),Object(a.jsx)(h.a,{children:Object(a.jsx)(x.a,{className:e.time,children:Ce.a.unix(i).format("LT")})})]})})]},t._id)]})})),j?v:null]}),!j&&f?Object(a.jsx)(h.a,{width:"100%",display:"flex",justifyContent:"center",pb:"50px",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){u(!0);var e=i.length-1;Ee(M(),e,10).then((function(e){e.ok?e.json().then((function(e){var t=e.total,n=i.slice();n=n.concat(e.logs),g(n.length<t),l(n),u(!1)})):u(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})]})]})}var We=n(65),ze=n(210),_e=n(209),Ke=n(211),Je=n(205),Ve=n(206),Xe=n(207);function Ye(e){var t=Object(c.createRef)(),n=Object(c.createRef)(),r=e.headerTitle,i=e.btnName,l=e.defaultTitle,s=e.defaultBody,o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],b=j[1],x=Object(c.useState)(null),m=Object(d.a)(x,2),f=m[0],g=m[1],v=Object(c.useState)(!1),y=Object(d.a)(v,2),k=y[0],w=y[1];return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Je.a,{children:r}),Object(a.jsxs)(Ve.a,{children:[Object(a.jsx)(O.a,{inputRef:t,error:u,helperText:u,label:"Judul",placeholder:"Masukan judul pengumuman...",defaultValue:l,fullWidth:!0}),Object(a.jsx)(h.a,{my:"20px"}),Object(a.jsx)(O.a,{inputRef:n,error:f,helperText:f,label:"Isi Pengumuman",placeholder:"Masukan isi pengumuman...",multiline:!0,defaultValue:s,fullWidth:!0})]}),Object(a.jsx)(Xe.a,{children:Object(a.jsx)(p.a,{color:"primary",disabled:k,onClick:function(){b(null),g(null);var a=t.current.value,c=n.current.value;if(a.length<=0)b("Tidak boleh kosong");else if(c.length<=0)g("Tidak boleh kosong");else{w(!0),e.handleSubmit(a,c).then((function(e){e||w(!1)}))}},children:k?i.loading:i.normal})})]})}var qe=function(e,t,n){return T("".concat(y,"b/announcement/create"),"POST",{"Content-Type":"application/json",token:n},{title:e,body:t})},$e=function(e,t,n,a){return T("".concat(y,"b/announcement/edit/").concat(e),"PUT",{"Content-Type":"application/json",token:a},{title:t,body:n})},Qe=function(e,t){return E("".concat(y,"b/announcement/delete/").concat(e),"DELETE",{token:t})},Ze=function(e,t,n){return E("".concat(y,"b/announcement/get/").concat(e,"/").concat(t),"GET",{token:n})},et=n(66),tt=n(208),nt=Object(q.a)((function(){return{created:{color:"grey"}}}));function at(e){var t=nt(),n=e.announcement,r=n.title,i=n.body,l=n.created,s=e.onDelete,o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],b=j[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),f=m[0],g=m[1],v=e.onBodyClick;return Object(a.jsxs)(h.a,{mx:"auto",my:"10px",width:{xs:"100%",sm:"500px"},component:Ge.a,height:"140px",p:"10px",elevation:3,display:"flex",flexDirection:"column",children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(h.a,{width:"90%",component:et.a,onClick:v,justifyContent:"left",children:Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,noWrap:!0,align:"left",children:r})}),s?Object(a.jsxs)(h.a,{display:"flex",width:"10%",flexDirection:"row-reverse",children:[Object(a.jsx)(H.a,{size:"small",onClick:function(e){b(e.currentTarget)},children:Object(a.jsx)(tt.a,{})}),Object(a.jsx)(te.a,{open:u,anchorEl:u,onClose:function(){b(null)},children:Object(a.jsx)(ne.a,{component:p.a,disabled:f,onClick:function(){g(!0),s().then((function(e){e||g(!1)}))},children:f?"MENGHAPUS...":"HAPUS"})})]}):null]}),Object(a.jsx)(x.a,{align:"justify",gutterBottom:!0,noWrap:!0,onClick:v,children:i}),Object(a.jsx)(h.a,{display:"flex",flexDirection:"column-reverse",flex:1,onClick:v,children:Object(a.jsx)(x.a,{align:"right",className:t.created,children:Ce.a.unix(l).fromNow()})})]})}var ct=Object(q.a)((function(e){var t;return{fab:(t={position:"fixed"},Object(We.a)(t,e.breakpoints.up("xs"),{right:e.spacing(1),bottom:e.spacing(1)}),Object(We.a)(t,e.breakpoints.up("xs"),{right:e.spacing(2),bottom:e.spacing(2)}),t),created:{color:"grey"}}}));function rt(){var e=Object(b.g)(),t=ct(),n=Object(J.c)((function(e){return e.loginUser})),r=Object(c.useState)(!1),i=Object(d.a)(r,2),l=i[0],s=i[1],o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],O=j[1],f=Object(c.useState)([]),g=Object(d.a)(f,2),v=g[0],y=g[1],k=Object(c.useState)(!0),w=Object(d.a)(k,2),T=w[0],E=w[1],P=Object(c.useState)(!1),B=Object(d.a)(P,2),N=B[0],R=B[1],A=[];Object(c.useEffect)((function(){Ze(0,5,M()).then((function(e){e.ok?e.json().then((function(e){var t=e.announcements,n=e.count;y(t),R(n>t.length),E(!1)})):E(!1)}))}),[]);for(var U=0;U<5;U++)A.push(Object(a.jsx)(h.a,{my:"10px",mx:"auto",height:"140px",width:{xs:"100%",sm:"500px"},children:Object(a.jsx)(Be.a,{variant:"rect",width:"100%",height:"100%"})}));return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Pengumuman SIPEMA"})}),Object(a.jsxs)(ye,{loginUser:n,children:[Object(a.jsx)(Te,{icon:Object(a.jsx)(xe.a,{fontSize:"large"}),title:"Pengumuman"}),Object(a.jsx)(h.a,{minHeight:"75vh",width:"100%",display:"flex",flexDirection:"column",children:v.length<=0&&!T?Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(x.a,{variant:"h6",children:"Tidak ada pengumuman."})}):Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(h.a,{my:"25px"}),v.map((function(t){var n=t._id,c=t.is_owner;return Object(a.jsx)(at,{onBodyClick:function(){e.push("/a/".concat(n))},announcement:t,onDelete:c?Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(n,M()).then((function(e){if(e.ok){O("Berhasil menghapus pengumuman."),E(!0);var t=v.length;return y([]),Ze(0,t,M()).then((function(e){e.ok?e.json().then((function(e){var t=e.announcements,n=e.count;y(t),R(n>t.length),E(!1)})):E(!1)})),!0}return O("Gagal menghapus pengumuman."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))):null})})),T?A:N?Object(a.jsx)(h.a,{py:"20px",display:"flex",justifyContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){var e=v.length;E(!0),Ze(e,5,M()).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=v.concat(e.announcements);y(n),R(t>n.length),E(!1)})):E(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})}),Object(a.jsx)(_e.a,{className:t.fab,color:"primary",size:"small",onClick:function(){s(!0)},children:Object(a.jsx)(ze.a,{})})]}),Object(a.jsx)(Ke.a,{open:l,onClose:function(){s(!1)},fullWidth:!0,children:Object(a.jsx)(Ye,{headerTitle:"Membuat Pengumuman",btnName:{normal:"BUAT",loading:"MEMBUAT..."},handleSubmit:function(){var e=Object(C.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t,n,M()).then((function(e){return e.ok?(O("Berhasil membuat pengumuman."),s(!1),E(!0),Ze(0,v.length,M()).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=e.announcements;y(n),R(t>n.length),E(!1)})):E(!1)})),y([]),!0):(O("Gagal membuat pengumuman."),!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:u,open:u,autoHideDuration:6e3,onClose:function(){O(null)}},u)]})}var it=function(e,t,n,a){return E("".concat(y,"b/student/get/").concat(t,"/").concat(n,"/").concat(a),"GET",{token:e})},lt=function(e,t,n){return T("".concat(y,"b/student/set/").concat(t),"PUT",{token:e,"Content-Type":"application/json"},{approved:n})},st=Object(q.a)((function(e){return{avatar:{height:e.spacing(8),width:e.spacing(8),fontSize:"50px"},greyColor:{color:"grey"}}}));function ot(e){var t=st(),n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],l=r[1],s=e.student,o=s.user.pp,j=s.user.fullname;return Object(a.jsxs)(h.a,{component:Ge.a,elevation:3,p:"10px",my:"10px",display:"flex",width:{xs:"100%",sm:"500px"},children:[Object(a.jsx)(h.a,{my:"auto",mr:"5px",children:Object(a.jsx)(ee.a,{className:t.avatar,src:o,children:j.charAt(0)})}),Object(a.jsxs)(h.a,{my:"auto",width:"100%",children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("b",{children:j})}),Object(a.jsx)(x.a,{className:t.greyColor,children:"Murid"})]}),Object(a.jsx)(h.a,{display:"flex",alignContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){l(!0),e.onAcc().then((function(e){e||l(!1)}))},disabled:i,children:i?"MENERIMA...":"TERIMA"})})]})}var jt=Object(q.a)((function(e){return{avatar:{height:e.spacing(8),width:e.spacing(8),fontSize:"50px"},greyColor:{color:"grey"}}}));function ut(e){var t=e.student,n=t.user.pp,r=t.user.fullname,i=jt(),l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),O=b[0],m=b[1];return Object(a.jsxs)(h.a,{component:Ge.a,elevation:3,p:"10px",my:"10px",display:"flex",width:{xs:"100%",sm:"500px"},children:[Object(a.jsx)(h.a,{my:"auto",mr:"5px",children:Object(a.jsx)(ee.a,{className:i.avatar,src:n,children:r.charAt(0)})}),Object(a.jsxs)(h.a,{my:"auto",width:"100%",children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("b",{children:r})}),Object(a.jsx)(x.a,{className:i.greyColor,children:"Murid"})]}),Object(a.jsxs)(h.a,{children:[Object(a.jsx)(H.a,{size:"small",onClick:function(e){j(e.currentTarget)},children:Object(a.jsx)(tt.a,{size:"small"})}),Object(a.jsxs)(te.a,{open:o,anchorEl:o,onClose:function(){j(null)},children:[Object(a.jsx)(ne.a,{children:"Lihat Detil"}),Object(a.jsx)(ne.a,{component:p.a,disabled:O,onClick:function(){m(!0),e.onKick().then((function(e){e||m(!1)}))},children:O?"MENENDANG...":"TENDANG"})]})]})]})}function bt(){var e=Object(J.c)((function(e){return e.loginUser})),t=Object(c.useState)(!0),n=Object(d.a)(t,2),i=n[0],l=n[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),j=o[0],u=o[1],b=Object(c.useState)([]),O=Object(d.a)(b,2),f=O[0],g=O[1],v=Object(c.useState)(!1),y=Object(d.a)(v,2),k=y[0],w=y[1],T=Object(c.useState)([]),E=Object(d.a)(T,2),P=E[0],B=E[1],N=Object(c.useState)(!1),R=Object(d.a)(N,2),A=R[0],U=R[1],I=Object(c.useState)(null),D=Object(d.a)(I,2),G=D[0],H=D[1];Object(c.useEffect)((function(){var e=M();it(e,0,3,!0).then((function(e){e.ok?e.json().then((function(e){var t=e.students,n=e.count;g(t),w(n>t.length),l(!1)})):l(!1)})),it(e,0,3,!1).then((function(e){e.ok?e.json().then((function(e){var t=e.students,n=e.count;B(t),U(n>t.length),u(!1)})):l(!1)}))}),[]);for(var L=[],F=0;F<3;F++)L.push(Object(a.jsx)(h.a,{my:"10px",width:{xs:"100%",sm:"500px"},mx:"auto",children:Object(a.jsx)(Be.a,{variant:"rect",height:"60px"})}));return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Manajemen Murid SIPEMA"})}),Object(a.jsxs)(ye,{loginUser:e,children:[Object(a.jsx)(Te,{icon:Object(a.jsx)(Oe.a,{fontSize:"large"}),title:"Manajemen Murid"}),Object(a.jsxs)(h.a,{mt:"50px",children:[Object(a.jsxs)(h.a,{mb:"20px",children:[f.map((function(e,t){var n=e._id,c=e.user.fullname;return Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(a.jsx)(ut,{student:e,onKick:Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(M(),n,!1).then((function(e){if(e.ok){var n=P.length+1;it(M(),0,n,!1).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=e.students;B(n),U(n.length<t),u(!1)})):u(!1)})),B([]),u(!0);var a=f.slice();return a.splice(t,1),g(a),H("".concat(c," berhasil ditendang.")),!0}return H("Gagal menendang murid."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},n)})})),i?L:f.length<=0?Object(a.jsx)(h.a,{mt:"20px",mb:"50px",children:Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Murid Kosong."})}):null]}),k&&!i?Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",alignContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){var e=f.slice();l(!0),it(M(),e.length,3,!0).then((function(t){t.ok?t.json().then((function(t){var n=e.concat(t.students);g(n),w(n.length<t.count),l(!1)})):l(!1)}))},children:"MUAT LEBIH BANYAK"})}):null,Object(a.jsx)(h.a,{mt:"50px",children:Object(a.jsx)(x.a,{variant:"h5",gutterBottom:!0,children:"Murid yang Belum Disetujui"})}),Object(a.jsx)(se.a,{}),Object(a.jsxs)(h.a,{mb:"20px",mt:"10px",children:[P.map((function(e,t){var n=e._id,c=e.user.fullname;return Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(a.jsx)(ot,{student:e,onAcc:Object(C.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(M(),n,!0).then((function(e){if(e.ok){var n=f.length+1;g([]),l(!0),it(M(),0,n,!0).then((function(e){e.ok?e.json().then((function(e){var t=e.students,n=e.count;g(t),w(t.length<n),l(!1)})):l(!1)}));var a=P.slice();return a.splice(t,1),B(a),H("".concat(c," diterima menjadi murid.")),!0}return H("Gagal menerima murid"),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},n)})})),j?L:P.length<=0?Object(a.jsx)(h.a,{pb:"50px",mt:"20px",children:Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"Murid yang belum disetujui kosong."})}):null]}),A&&!j?Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",alignContent:"center",pb:"50px",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){var e=P.slice();u(!0),it(M(),e.length,3,!1).then((function(t){t.ok?t.json().then((function(t){var n=e.concat(t.students);B(n),U(n.length<t.count),u(!1)})):u(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})]}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:G,open:G,autoHideDuration:6e3,onClose:function(){H(null)}},G)]})}function dt(){var e=Object(J.c)((function(e){return e.loginUser}));return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(ye,{loginUser:e,children:Object(a.jsx)(Te,{icon:Object(a.jsx)(pe.a,{fontSize:"large"}),title:"Riwayat Pembayaran Murid"})})})}var ht=n(100),xt=n.n(ht),Ot=Object(q.a)((function(e){return console.log(e),{appbar:{backgroundColor:e.palette.background.default,color:e.palette.text.secondary,zIndex:e.zIndex.drawer+1,border:"1px solid ".concat(e.palette.grey[300])},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),pt=function(){var e=Ot();return Object(a.jsx)($.a,{className:e.appbar,elevation:0,children:Object(a.jsxs)(Q.a,{className:e.toolbar,children:[Object(a.jsx)(Z.a,{smUp:!0,children:Object(a.jsx)(H.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(xt.a,{})})}),Object(a.jsx)(x.a,{variant:"h6",className:e.title,children:"Dashboard"})]})})},mt=Object(q.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240,border:"none"},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},listItem:{cursor:"pointer",color:e.palette.text.secondary,borderTopRightRadius:999,borderBottomRightRadius:999,"&.active":{backgroundColor:e.palette.grey[100],"& p":{fontWeight:"500 !important",color:e.palette.primary.main}},"&:hover":{color:e.palette.primary.main}},listItemTypography:{fontSize:16},list:{paddingTop:16,paddingBottom:16}}})),ft=[{text:"Pengumuman",to:"/announcement"},{text:"Riwayat Bacaan",to:"/progress"},{text:"Pembayaran",to:"/payment"}],gt=function(){var e=mt();return Object(a.jsxs)(oe.a,{variant:"permanent",className:e.drawer,classes:{paper:e.drawerPaper},children:[Object(a.jsx)(Q.a,{}),Object(a.jsx)("div",{className:e.drawerContainer,children:Object(a.jsx)(ue.a,{disableRipple:!0,className:e.list,children:ft.map((function(t,n){return Object(a.jsx)(be.a,{to:t.to,component:u.c,className:e.listItem,children:Object(a.jsx)(x.a,{className:e.listItemTypography,children:t.text})},n)}))})})]})},vt=Object(q.a)((function(e){return{page:{padding:"28px 12px"}}})),yt=function(e){var t=e.children,n=vt();return Object(a.jsx)("div",{className:n.page,children:t})},kt=n(213),wt=n(77),St=function(e){return Object(wt.a)(e),Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Pembayaran"})},Ct=n(212),Tt=Object(q.a)((function(e){return{card:{padding:16},title:{marginBottom:"0.75rem"}}})),Et=function(e){var t=Tt();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{className:t.title,variant:"h6",gutterBottom:!0,children:"Announcement"}),Object(a.jsx)(Ct.a,{className:t.card,variant:"outlined",children:Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Pengumuman 1"})})]})},Pt=function(e){return Object(wt.a)(e),Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Progress"})},Bt=Object(q.a)((function(e){return{routerWrapper:{marginLeft:"auto",marginRight:"auto",flexGrow:1},mainContainer:{display:"flex"}}})),Nt=function(){var e=Bt();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(pt,{}),Object(a.jsx)(Q.a,{}),Object(a.jsxs)("div",{className:e.mainContainer,children:[Object(a.jsx)(gt,{}),Object(a.jsx)(kt.a,{fluid:!0,className:e.routerWrapper,children:Object(a.jsx)(yt,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/payment",children:Object(a.jsx)(St,{})}),Object(a.jsx)(b.b,{path:"/announcement",children:Object(a.jsx)(Et,{})}),Object(a.jsx)(b.b,{path:"/progress",children:Object(a.jsx)(Pt,{})}),Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(b.a,{to:"/announcement"})})]})})})]})]})},Rt=n(219),Mt=n(214);function At(){var e=Object(J.c)((function(e){return e.loginUser})),t=Object(J.b)(),n=e.fullname,i=e.email,l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),x=b[0],m=b[1],f=r.a.createRef(),g=Object(c.useState)(null),v=Object(d.a)(g,2),k=v[0],w=v[1],S=function(){var a=f.current.value;j(null),a!==n&&(a.length<=0?j("Tidak boleh kosong."):(m(!0),function(e,t){return T("".concat(y,"b/user/profile/set"),"PUT",{"Content-Type":"application/json",token:e},{fullname:t})}(M(),a).then((function(n){n.ok?(e.fullname=a,t(V(e)),w("Berhasil mengedit profil anda.")):w("Gagal mengedit profil anda."),m(!1)}))))};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{mt:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Nama Lengkap",placeholder:"Masukan nama lengkap anda...",defaultValue:n,error:o,helperText:o,inputRef:f,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),S())}})}),Object(a.jsx)(h.a,{mt:"30px",mb:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Email",disabled:!0,value:i})}),Object(a.jsx)(h.a,{display:"flex",mb:"30px",flexDirection:"row-reverse",children:Object(a.jsx)(p.a,{color:"primary",variant:"contained",disabled:x,onClick:S,children:x?"MENGUBAH...":"UBAH"})}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:k,open:k,autoHideDuration:6e3,onClose:function(){w(null)}},k)]})}function Ut(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],u=Object(c.useState)(null),b=Object(d.a)(u,2),x=b[0],m=b[1],f=Object(c.useState)(!1),g=Object(d.a)(f,2),v=g[0],k=g[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),C=S[0],E=S[1],P=Object(c.createRef)(),B=Object(c.createRef)(),N=Object(c.createRef)(),R=function(){i(null),m(null),j(null),E(null);var e,t,n,a=P.current.value,c=B.current.value,r=N.current.value;a.length<=0?i("Tidak boleh kosong."):c.length<8?j("Panjang minimal 8 karakter."):c!==r?(j("Harus sama."),m("Harus sama.")):(k(!0),(e=M(),t=a,n=c,T("".concat(y,"b/user/password/set"),"PUT",{"Content-Type":"application/json",token:e},{old_password:t,new_password:n})).then((function(e){e.ok?E("Berhasil mengganti password."):401===e.status?E("Password/token tidak valid."):500===e.status&&E("Terjadi masalah, mohon coba lagi nanti."),k(!1)})))};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{mt:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Password Lama",placeholder:"Masukan password lama anda...",type:"password",error:n,helperText:n,inputRef:P,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),R())}})}),Object(a.jsx)(h.a,{mt:"30px",mb:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",type:"password",inputRef:B,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),R())}})}),Object(a.jsx)(h.a,{mt:"30px",mb:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Ulangi Password Baru",placeholder:"Masukan ulang password baru anda...",type:"password",inputRef:N,error:x,helperText:x,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),R())}})}),Object(a.jsx)(h.a,{display:"flex",mb:"30px",flexDirection:"row-reverse",children:Object(a.jsx)(p.a,{color:"primary",variant:"contained",disabled:v,onClick:R,children:v?"MENGUBAH...":"UBAH"})}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:C,open:C,autoHideDuration:6e3,onClose:function(){E(null)}},C)]})}var It=Object(q.a)((function(e){return{pp:{height:e.spacing(15),width:e.spacing(15),fontSize:"80px"},inputContainer:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},photoSizeDesc:{backgroundColor:me.a[100]},editProfileHeader:{backgroundColor:me.a[100]}}}));function Dt(){var e=It(),t=Object(J.c)((function(e){return e.loginUser})),n=Object(J.b)(),i=Object(c.useState)(!1),l=Object(d.a)(i,2),s=l[0],o=l[1],j=Object(c.useState)(null),O=Object(d.a)(j,2),f=O[0],g=O[1],v=t.fullname,k=t.role,w=t.pp,S=t.created,C=Object(c.useState)(window.location.pathname),T=Object(d.a)(C,2),P=T[0],B=T[1];return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Profil SIPEMA"})}),Object(a.jsx)(ye,{loginUser:t,children:Object(a.jsxs)(ke.a,{container:!0,direction:"row-reverse",spacing:2,children:[Object(a.jsx)(ke.a,{item:!0,xs:12,lg:4,children:Object(a.jsxs)(h.a,{component:Ge.a,p:"20px",children:[Object(a.jsx)(x.a,{variant:"h4",gutterBottom:!0,align:"center",children:v}),Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"teacher"===k?"Guru":"Murid"}),Object(a.jsx)(h.a,{display:"flex",width:"100%",my:"20px",children:Object(a.jsx)(h.a,{mx:"auto",children:s?Object(a.jsx)(Be.a,{height:"120px",width:"120px",variant:"circle"}):Object(a.jsx)(ee.a,{src:w,className:e.pp,children:v.charAt(0)})})}),Object(a.jsx)(h.a,{display:"flex",width:"100%",mb:"20px",children:Object(a.jsxs)(h.a,{mx:"auto",className:e.inputContainer,children:[Object(a.jsx)("input",{accept:"image/*",className:e.input,type:"file",id:"contained-button-file",onChange:function(e){var a=e.target.files[0];(a.size/1024/1024).toFixed(4)>=10?g("Ukuran foto tidak boleh melebihi 10 MB."):(o(!0),function(e,t){var n=new FormData;return n.append("photo",t),E("".concat(y,"b/user/profile/picture/set"),"PUT",{token:e},n)}(M(),a).then((function(e){e.ok?e.json().then((function(e){t.pp=e.pp,n(V(t)),o(!1),g("Berhasil mengganti foto profil.")})):(o(!1),g("Gagal mengganti foto profil."))})))}}),Object(a.jsx)("label",{htmlFor:"contained-button-file",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",component:"span",children:"GANTI FOTO PROFIL"})})]})}),Object(a.jsx)(h.a,{p:"10px",className:e.photoSizeDesc,mb:"20px",children:Object(a.jsxs)(x.a,{align:"center",children:["Ukuran foto maksimum: ",Object(a.jsx)("b",{children:"10 MB"})]})}),Object(a.jsx)(h.a,{mb:"20px",children:Object(a.jsxs)(x.a,{children:["Bergabung pada: ",Object(a.jsx)("b",{children:Ce.a.unix(S).format("llll")})]})})]})}),Object(a.jsx)(ke.a,{item:!0,xs:12,lg:8,children:Object(a.jsxs)(h.a,{component:Ge.a,children:[Object(a.jsxs)(h.a,{px:"20px",className:e.editProfileHeader,children:[Object(a.jsx)(h.a,{py:"40px",children:Object(a.jsx)(x.a,{variant:"h4",children:"Edit Profil"})}),Object(a.jsxs)(Rt.a,{indicatorColor:"primary",value:P,onChange:function(e,t){B(t)},children:[Object(a.jsx)(Mt.a,{label:"Umum",component:u.b,to:"/profile",value:"/profile"}),Object(a.jsx)(Mt.a,{label:"Ganti Password",component:u.b,to:"/profile/password",value:"/profile/password"})]})]}),Object(a.jsx)(h.a,{p:"20px",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/profile/password",children:Object(a.jsx)(Ut,{})}),Object(a.jsx)(b.b,{path:"/profile",children:Object(a.jsx)(At,{})})]})})]})})]})}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:f,open:f,autoHideDuration:6e3,onClose:function(){g(null)}},f)]})}var Gt=n(101),Ht=Object(q.a)((function(e){return{avatar:{height:e.spacing(5),width:e.spacing(5),marginRight:"10px",marginTop:"auto",marginBottom:"auto"}}}));function Lt(e){for(var t=Ht(),n=e.paragraphsCount,r=Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Be.a,{width:"100%"}),Object(a.jsx)(Be.a,{width:"100%"}),Object(a.jsx)(Be.a,{width:"100%"}),Object(a.jsx)(Be.a,{width:"100%"}),Object(a.jsx)(Be.a,{width:"80%"}),Object(a.jsx)(h.a,{mb:"32px"})]}),i=[],l=0;l<n;l++)i.push(r);return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(Be.a,{variant:"circle",className:t.avatar}),Object(a.jsxs)(h.a,{my:"auto",children:[Object(a.jsx)(Be.a,{width:"150px"}),Object(a.jsx)(Be.a,{width:"100px"})]})]}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(se.a,{})}),Object(a.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(a.jsx)(h.a,{mx:"auto",mb:"40px",children:Object(a.jsx)(Be.a,{width:"200px",height:"32px"})}),i]})]})}var Ft=Object(q.a)((function(e){return{avatar:{height:e.spacing(5),width:e.spacing(5),marginRight:"10px",marginTop:"auto",marginBottom:"auto"},greyColor:{color:"grey"}}}));function Wt(){var e=Ft(),t=Object(b.h)().announcementId,n=Object(J.c)((function(e){return e.loginUser})),r=Object(c.useState)(null),i=Object(d.a)(r,2),l=i[0],s=i[1],o=Object(c.useState)("Pengumuman"),j=Object(d.a)(o,2),u=j[0],O=j[1],f=Object(c.useState)(!0),g=Object(d.a)(f,2),k=g[0],w=g[1],T=Object(c.useState)(null),P=Object(d.a)(T,2),B=P[0],N=P[1],R=Object(c.useState)(!1),A=Object(d.a)(R,2),U=A[0],I=A[1],D=Object(c.useState)(null),G=Object(d.a)(D,2),L=G[0],F=G[1],W=Object(c.useState)(!1),z=Object(d.a)(W,2),_=z[0],K=z[1],V=Object(a.jsx)(h.a,{minHeight:"70vh",display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(x.a,{variant:"h5",children:"Pengumuman tidak ditemukan."})}),X=null;if(l){var Y=l.teacher,q=Y.pp,$=Y.fullname,Q=l.created,Z=l.title,ce=l.body,re=l.is_owner;X=Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsxs)(h.a,{display:"flex",width:"90%",children:[Object(a.jsx)(ee.a,{src:q,className:e.avatar,children:$.charAt(0)}),Object(a.jsxs)(h.a,{my:"auto",children:[Object(a.jsx)(x.a,{variant:"h6",children:$}),Object(a.jsx)(x.a,{className:e.greyColor,children:Ce.a.unix(Q).format("llll")})]})]}),re?Object(a.jsxs)(h.a,{display:"flex",width:"10%",flexDirection:"row-reverse",children:[Object(a.jsx)(h.a,{my:"auto",children:Object(a.jsx)(H.a,{size:"small",onClick:function(e){N(e.currentTarget)},children:Object(a.jsx)(tt.a,{})})}),Object(a.jsxs)(te.a,{open:B,anchorEl:B,onClose:function(){N(null)},children:[Object(a.jsx)(ne.a,{component:p.a,onClick:function(){K(!0)},children:"EDIT"}),Object(a.jsx)(ne.a,{component:p.a,disabled:U,onClick:function(){I(!0),Qe(t,M()).then((function(e){e.ok?(s(null),F("Berhasil menghapus pengumuman")):(F("Gagal menghapus pengumuman"),I(!1))}))},children:U?"MENGHAPUS...":"HAPUS"})]})]}):null]}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(se.a,{})}),Object(a.jsxs)(h.a,{display:"flex",flexDirection:"column",mb:"50px",children:[Object(a.jsx)(h.a,{mb:"40px",children:Object(a.jsx)(x.a,{variant:"h5",align:"center",children:Z})}),Object(a.jsx)(x.a,{align:"justify",children:v(ce)})]}),Object(a.jsx)(Ke.a,{open:_,onClose:function(){K(!1)},fullWidth:!0,children:Object(a.jsx)(Ye,{defaultTitle:l.title,defaultBody:l.body,headerTitle:"Mengedit Pengumuman",btnName:{normal:"EDIT",loading:"MENGEDIT..."},handleSubmit:function(){var e=Object(C.a)(S.a.mark((function e(n,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(t,n,a,M()).then((function(e){if(e.ok){F("Berhasil mengedit pengumuman."),K(!1);var t=Object(Gt.a)({},l);return t.title=n,t.body=a,s(t),!0}return F("Gagal mengedit pengumuman."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})})]})}return Object(c.useEffect)((function(){(function(e,t){return E("".concat(y,"b/announcement/detail/").concat(e),"GET",{token:t})})(t,M()).then((function(e){e.ok?e.json().then((function(e){s(e),O(e.title),w(!1)})):w(!1)}))}),[t]),Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:u})}),Object(a.jsx)(ye,{loginUser:n,children:k?Object(a.jsx)(Lt,{paragraphsCount:3}):l?X:V}),Object(a.jsx)(ae.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:L,open:L,autoHideDuration:6e3,onClose:function(){F(null)}},L)]})}function zt(){var e=Object(b.g)(),t=Object(J.b)(),n=Object(J.c)((function(e){return e.loginUser})),i=Object(c.useState)(!0),l=Object(d.a)(i,2),s=l[0],o=l[1];if(Object(c.useEffect)((function(){if(null===n){var a=M();null===a?e.push("/login"):(o(!0),function(e){return E("".concat(y,"b/user/profile"),"GET",{token:e})}(a).then((function(n){n.ok?n.json().then((function(e){t(V(e)),o(!1)})):e.push("/login")})))}}),[n,t,e]),s)return Object(a.jsx)(z,{});var j=null;return"student"===n.role?j=n.approved?[Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(Nt,{})})]:Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(X,{})}):"teacher"===n.role&&(j=[Object(a.jsx)(b.b,{path:"/a/:announcementId",children:Object(a.jsx)(Wt,{})}),Object(a.jsx)(b.b,{path:"/students",children:Object(a.jsx)(bt,{})}),Object(a.jsx)(b.b,{path:"/payment",children:Object(a.jsx)(dt,{})}),Object(a.jsx)(b.b,{path:"/log",children:Object(a.jsx)(Fe,{})}),Object(a.jsx)(b.b,{path:"/profile",children:Object(a.jsx)(Dt,{})}),Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(rt,{})})]),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"SIPEMA"})}),Object(a.jsx)(b.d,{children:j})]})}n(135);Ce.a.locale("id");var _t=Object(s.a)({palette:{background:{default:"#ffffff"}}});console.log(_t);var Kt=function(){return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)(o.a,{theme:_t,children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/login",children:Object(a.jsx)(I,{})}),Object(a.jsx)(b.b,{path:"/register/token/:token",children:Object(a.jsx)(_,{})}),Object(a.jsx)(b.b,{path:"/register",children:Object(a.jsx)(G,{})}),Object(a.jsx)(b.b,{path:"/password/reset/token/:token",children:Object(a.jsx)(K,{})}),Object(a.jsx)(b.b,{path:"/password/reset",children:Object(a.jsx)(F,{})}),Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(zt,{})}),Object(a.jsx)(b.b,{path:"*",children:Object(a.jsx)(D,{})})]})})]})})},Jt=n(55),Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return t.payload;case"LOG_OUT":return null;default:return e}},Xt=Object(Jt.b)({loginUser:Vt}),Yt=Object(Jt.c)(Xt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(J.a,{store:Yt,children:Object(a.jsx)(Kt,{})})}),document.getElementById("root"))}},[[136,1,2]]]);