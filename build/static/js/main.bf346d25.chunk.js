(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),i=a(13),l=a.n(i),s=a(160),o=a(184),j=a(186),u=a(14),b=a(17),d=a(8),h=a(59),O=a(185),x=a(157),p=a(22),m=function(e){return e.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},f="https://sipema.herokuapp.com",g="sipema.herokuapp.com",k=a(58),v=a.n(k),y=a(72),w=function(){var e=Object(y.a)(v.a.mark((function e(t,a,n,c,r){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S(t,a,n,JSON.stringify(c),r));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(v.a.mark((function e(t,a,n,c,r){var i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:a,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:n,redirect:"follow",referrerPolicy:"no-referrer",body:c,signal:r}).catch((function(e){console.warn("Fetch 1 error: ".concat(e.message))}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,c,r){return e.apply(this,arguments)}}(),P=function(e){return S("".concat(f,"b/user/logout"),"DELETE",{token:e})},T=a(188),R=a(153);function C(e){var t=e.severity,a=e.title,c=e.body;return Object(n.jsxs)(T.a,{severity:t,children:[Object(n.jsx)(R.a,{children:a}),c]})}var E=function(){return window.localStorage.getItem("login_token")},U=function(e){window.localStorage.setItem("login_token",e)},M=function(){window.localStorage.removeItem("login_token")};function A(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],b=s[1],g=Object(c.useState)(!1),k=Object(d.a)(g,2),v=k[0],y=k[1],S=Object(c.useState)(null),P=Object(d.a)(S,2),T=P[0],R=P[1],E=r.a.createRef(),M=r.a.createRef(),A=function(){var e=E.current.value,t=M.current.value;R(null),i(null),b(null),e.length<=0?i("Tidak boleh kosong"):m(e)?t.length<=0?b("Tidak boleh kosong"):(y(!0),function(e,t){return w("".concat(f,"b/user/login"),"POST",{"Content-Type":"application/json"},{email:e,password:t})}(e,t).then((function(e){500===e.status?(R("Terjadi masalah, mohon coba lagi nanti."),y(!1)):e.status>=400?(R("Email atau password salah."),y(!1)):e.json().then((function(e){U(e.token),window.location.href="/"}))}))):i("Email tidak berlaku")};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Login SIPEMA"})}),Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",width:"320px",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(n.jsx)(h.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),T?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(C,{severity:"error",title:"Login Error",body:T})}):null,Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Email",placeholder:"Masukan email anda...",inputRef:E,error:a,helperText:a,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Password",type:"password",placeholder:"Masukan password anda...",inputRef:M,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:v,onClick:A,children:v?"MENCOBA MASUK...":"MASUK"})}),Object(n.jsx)(h.a,{gutterBottom:!0,variant:"body1",align:"center",children:Object(n.jsx)(u.b,{to:"/password/reset",children:"Lupa Password"})}),Object(n.jsxs)(h.a,{gutterBottom:!0,variant:"body1",align:"center",children:["Belum punya akun ? ",Object(n.jsx)(u.b,{to:"/register",children:"Daftar"})]})]})})]})}function B(){return Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"ERROR 404: Halaman yang kamu cari tidak ditemukan :("}),Object(n.jsx)(h.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(n.jsx)(u.b,{href:"/",children:g})})]})})}function I(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],b=s[1],g=Object(c.useState)(null),k=Object(d.a)(g,2),v=k[0],y=k[1],S=Object(c.useState)(null),P=Object(d.a)(S,2),T=P[0],R=P[1],E=Object(c.useState)(!1),U=Object(d.a)(E,2),M=U[0],A=U[1],B=Object(c.useState)(null),I=Object(d.a)(B,2),N=I[0],D=I[1],H=Object(c.useState)(null),L=Object(d.a)(H,2),F=L[0],G=L[1],W=r.a.createRef(),K=r.a.createRef(),z=r.a.createRef(),_=r.a.createRef(),J=function(){var e=W.current.value,t=K.current.value,a=z.current.value,n=_.current.value;i(null),b(null),y(null),R(null),D(null),G(null),e.length<=0?i("Tidak boleh kosong"):m(e)?t.length<=0?b("Tidak boleh kosong"):a.length<8?y("Password tidak boleh kurang dari 8 karakter"):a!==n?(R("Harus sama"),y("Harus sama")):(A(!0),function(e,t,a){return w("".concat(f,"b/user/register/request"),"POST",{"Content-Type":"application/json"},{email:e,fullname:t,password:a})}(e,t,a).then((function(e){500===e.status?G("Terjadi masalah, mohon coba lagi nanti."):409===e.status?i("Email sudah dipakai"):D("Silakan cek email anda untuk verifikasi"),A(!1)}))):i("Email tidak berlaku")};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Daftar SIPEMA"})}),Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",width:"320px",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(n.jsx)(h.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),N?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(C,{severity:"success",title:"Berhasil Mendaftar",body:N})}):F?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(C,{severity:"error",title:"Gagal Mendaftar",body:F})}):null,Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:W,error:a,helperText:a,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Nama lengkap",placeholder:"Masukan nama lengkap anda...",fullWidth:!0,inputRef:K,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Password",type:"password",placeholder:"Masukan password anda...",fullWidth:!0,inputRef:z,error:v,helperText:v,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{label:"Ulangi password",placeholder:"Ulangi password anda...",fullWidth:!0,inputRef:_,error:T,type:"password",helperText:T,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),J())}})}),Object(n.jsx)(j.a,{mt:"40px",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:M,onClick:J,children:M?"MENDAFTAR...":"DAFTAR"})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsxs)(h.a,{align:"center",children:["Sudah punya akun ? ",Object(n.jsx)(u.b,{to:"/login",children:"Login"})]})})]})})]})}var N=a(152),D=a(158);function H(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(!1),s=Object(d.a)(l,2),o=s[0],b=s[1],g=Object(c.useState)(null),k=Object(d.a)(g,2),v=k[0],y=k[1],S=Object(c.useState)(null),P=Object(d.a)(S,2),T=P[0],R=P[1],E=r.a.createRef(),U=function(){i(null),y(null),R(null);var e=E.current.value;e.length<=0?i("Tidak boleh kosong"):m(e)?(b(!0),function(e){return w("".concat(f,"b/user/password/reset"),"POST",{"Content-Type":"application/json"},{email:e})}(e).then((function(e){500===e.status?y("Terjadi masalah, mohon coba lagi nanti."):404===e.status?y("Email tidak terdaftar."):R("Silakan cek email anda. Jika tidak ada, coba cek folder spam."),b(!1)}))):i("Email tidak berlaku")};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Lupa Password SIPEMA"})}),Object(n.jsxs)(j.a,{display:"flex",minHeight:"100vh",width:"100%",flexDirection:"column",children:[Object(n.jsx)(j.a,{p:{xs:"0",sm:"10px"},children:Object(n.jsx)(N.a,{component:u.b,to:"/login",children:Object(n.jsx)(D.a,{})})}),Object(n.jsxs)(j.a,{margin:"auto",width:"320px",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Lupa Password Akun SIPEMA"}),Object(n.jsx)(h.a,{align:"center",gutterBottom:!0,children:"Anda akan dikirimi email yang berisi tautan untuk mengganti password anda."}),T?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(C,{severity:"success",title:"Permintaan reset password berhasil",body:T})}):v?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(C,{severity:"error",title:"Permintaan reset password gagal",body:v})}):null,Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:E,error:a,helperText:a,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),U())}})}),Object(n.jsx)(j.a,{display:"flex",flexDirection:"row-reverse",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:o,onClick:U,children:o?"MERESET PASSWORD...":"RESET PASSWORD"})})]})]})]})}var L=a(159);function F(){return Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsx)(j.a,{margin:"auto",children:Object(n.jsx)(L.a,{number:100})})})}function G(){var e=Object(b.g)().token,t=Object(c.useState)(null),a=Object(d.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(!0),s=Object(d.a)(l,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){u(!0),function(e){return S("".concat(f,"b/user/register/token/").concat(e),"PUT")}(e).then((function(e){500===e.status?(i("ERROR 500: Terjadi masalah, mohon coba lagi nanti."),u(!1)):401===e.status?(i("ERROR 401: Token sudah kadaluarsa."),u(!1)):403===e.status?(i("ERROR 403: Token tidak berlaku."),u(!1)):e.json().then((function(e){U(e.token),window.location.href="/"}))}))}),[e]),o?Object(n.jsx)(F,{}):r?Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(n.jsx)(h.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(n.jsx)("a",{href:"/",children:g})})]})}):Object(n.jsx)("p",{children:"Success"})}function W(){var e=Object(b.g)().token,t=Object(c.useState)(!0),a=Object(d.a)(t,2),i=a[0],l=a[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),m=o[0],k=o[1],v=Object(c.useState)(!1),y=Object(d.a)(v,2),P=y[0],T=y[1],R=Object(c.useState)(null),E=Object(d.a)(R,2),U=E[0],M=E[1],A=Object(c.useState)(null),B=Object(d.a)(A,2),I=B[0],N=B[1],D=Object(c.useState)(null),H=Object(d.a)(D,2),L=H[0],G=H[1],W=Object(c.useState)(null),K=Object(d.a)(W,2),z=K[0],_=K[1],J=r.a.createRef(),q=r.a.createRef();Object(c.useEffect)((function(){l(!0),function(e){return S("".concat(f,"b/user/password/reset/check/token/").concat(e),"GET")}(e).then((function(e){500===e.status?k("ERROR 500: Terjadi masalah, mohon coba lagi nanti."):401===e.status?k("ERROR 401: Token kadaluarsa."):404===e.status&&k("ERROR 404: Token tidak valid."),l(!1)}))}),[e]);var V=function(){G(null),_(null),M(null),N(null);var t=J.current.value,a=q.current.value;t.length<8?M("Panjang password tidak boleh kurang dari 8 karakter"):t!==a?(M("Harus sama"),N("Harus sama")):(T(!0),function(e,t){return w("".concat(f,"b/user/password/reset/token/").concat(e),"PUT",{"Content-Type":"application/json"},{password:t})}(e,t).then((function(e){500===e.status?_("Terjadi masalah, mohon coba lagin nanti."):404===e.status?_("Token tidak valid."):401===e.status?_("Token telah kadaluarsa."):G(Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(h.a,{gutterBottom:!0,children:"Silakan login dengan password baru anda."}),Object(n.jsx)(j.a,{display:"flex",children:Object(n.jsx)(j.a,{margin:"auto",children:Object(n.jsx)(x.a,{color:"primary",component:u.b,to:"/login",children:"LOGIN"})})})]})),T(!1)})))};return i?Object(n.jsx)(F,{}):m?Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",p:"10px",children:[Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:m}),Object(n.jsx)(h.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(n.jsx)(u.b,{to:"/",children:g})})]})}):Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Ganti Password SIPEMA"})}),Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",p:"10px",width:"320px",children:[Object(n.jsx)(h.a,{align:"center",variant:"h5",gutterBottom:!0,children:"Ganti Password Akun SIPEMA"}),L?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(C,{severity:"success",title:"Berhasil Mengganti Password",body:L})}):z?Object(n.jsx)(C,{severity:"error",title:"Gagal Mengganti Password",body:z}):null,Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{type:"password",fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",error:U,helperText:U,inputRef:J,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),V())}})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(O.a,{type:"password",fullWidth:!0,label:"Ulangi Password",placeholder:"Ulangi password baru anda...",error:I,helperText:I,inputRef:q,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),V())}})}),Object(n.jsx)(j.a,{my:"40px",children:Object(n.jsx)(x.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:P,onClick:V,children:P?"MENGGANTI PASSWORD...":"GANTI PASSWORD"})})]})})]})}var K=a(18),z=function(e){return{type:"LOG_IN",payload:e}};function _(){var e=E(),t=Object(K.c)((function(e){return e.loginUser})),a=Object(c.useState)(!1),r=Object(d.a)(a,2),i=r[0],l=r[1];return Object(n.jsx)(j.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(n.jsxs)(j.a,{margin:"auto",width:"320px",children:[Object(n.jsx)(h.a,{gutterBottom:!0,align:"center",children:"Selamat datang di SIPEMA"}),Object(n.jsx)(j.a,{mb:"30px"}),Object(n.jsx)(h.a,{variant:"h5",align:"center",gutterBottom:!0,children:t.fullname}),Object(n.jsx)(j.a,{mb:"30px"}),Object(n.jsx)(h.a,{gutterBottom:!0,align:"center",children:"Pendaftaran Anda belum disetujui, silakan hubungi guru anda."}),Object(n.jsx)(j.a,{mb:"40px"}),Object(n.jsx)(j.a,{my:"40px",display:"flex",children:Object(n.jsx)(j.a,{margin:"auto",children:Object(n.jsx)(x.a,{color:"primary",disabled:i,onClick:function(){l(!0),P(e).then((function(e){e.ok&&(M(),window.location.href="/login"),l(!1)}))},children:i?"LOGGING OUT...":"LOG OUT"})})})]})})}var J=a(171),q=a(161),V=a(162),Y=a(190),$=a(194),Q=a(87),X=a(164),Z=a(192),ee=a(163),te=Object(s.a)((function(){return{root:{backgroundColor:"white"}}}));function ae(e){var t=te(),a=e.loginUser,i=Object(c.useState)(null),l=Object(d.a)(i,2),s=l[0],o=l[1],b=Object(c.useState)(!1),h=Object(d.a)(b,2),O=h[0],p=h[1],m=Object(c.useState)(null),f=Object(d.a)(m,2),g=f[0],k=f[1],v=e.onMenuButtonClick;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(q.a,{className:t.root,elevation:1,children:Object(n.jsxs)(V.a,{children:[Object(n.jsx)(j.a,{width:"50%",display:"flex",children:Object(n.jsx)(Y.a,{mdUp:!0,children:Object(n.jsx)(N.a,{size:"small",onClick:v,children:Object(n.jsx)(ee.a,{})})})}),Object(n.jsx)(j.a,{width:"50%",display:"flex",flexDirection:"row-reverse",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{onClick:function(e){o(e.currentTarget)},size:"small",children:Object(n.jsx)($.a,{src:a.pp,children:a.fullname.charAt(0)})}),Object(n.jsxs)(Q.a,{open:s,onClose:function(){o(null)},anchorEl:s,children:[Object(n.jsx)(X.a,{component:u.b,to:"/profile",children:"Profil"}),Object(n.jsx)(X.a,{component:x.a,onClick:function(){p(!0),P(E()).then((function(e){e.ok?(M(),window.location.href="/"):(k("Gagal Log Out."),p(!1))}))},disabled:O,children:O?"Logging Out...":"Log Out"})]})]})})]})}),Object(n.jsx)(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:g,onClose:function(){k(null)},message:g,autoHideDuration:6e3})]})}var ne=a(193),ce=a(173),re=a(191),ie=a(172),le=a(156),se=a(116),oe=a(166),je=a(168),ue=a(167),be=a(169),de=a(170),he=a(165),Oe=Object(s.a)((function(){return{listBtn:{color:"black",fontWeight:"bold"},listItemIcon:{color:"black"},activeLink:{backgroundColor:he.a[100],borderRadius:"0 20px 20px 0"}}}));function xe(){var e=Oe();return Object(n.jsxs)(le.a,{children:[Object(n.jsxs)(se.a,{button:!0,className:e.listBtn,component:u.c,exact:!0,to:"/",activeClassName:e.activeLink,children:[Object(n.jsx)(oe.a,{className:e.listItemIcon,children:Object(n.jsx)(ue.a,{})}),Object(n.jsx)(je.a,{primary:"Pengumuman"})]}),Object(n.jsxs)(se.a,{button:!0,className:e.listBtn,component:u.c,to:"/students",activeClassName:e.activeLink,children:[Object(n.jsx)(oe.a,{className:e.listItemIcon,children:Object(n.jsx)(be.a,{})}),Object(n.jsx)(je.a,{primary:"Manajemen Murid"})]}),Object(n.jsxs)(se.a,{button:!0,className:e.listBtn,component:u.c,to:"/payment",activeClassName:e.activeLink,children:[Object(n.jsx)(oe.a,{className:e.listItemIcon,children:Object(n.jsx)(de.a,{})}),Object(n.jsx)(je.a,{primary:"Riwayat Pembayaran Murid"})]}),Object(n.jsxs)(se.a,{button:!0,className:e.listBtn,component:u.c,to:"/log",activeClassName:e.activeLink,children:[Object(n.jsx)(oe.a,{className:e.listItemIcon,children:Object(n.jsx)(J.a,{})}),Object(n.jsx)(je.a,{primary:"Log Aktivitas Pengguna"})]})]})}var pe=Object(s.a)((function(){return{root:{backgroundColor:"white"}}}));function me(e){var t=e.loginUser,a=Object(c.useState)(!1),i=Object(d.a)(a,2),l=i[0],s=i[1],o=pe(),b=Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(j.a,{display:"flex",children:[Object(n.jsx)(Y.a,{mdUp:!0,children:Object(n.jsx)(j.a,{my:"auto",children:Object(n.jsx)(N.a,{onClick:function(){s(!1)},children:Object(n.jsx)(ie.a,{})})})}),Object(n.jsx)(j.a,{p:"20px",children:Object(n.jsx)(h.a,{variant:"h4",children:"SIPEMA"})})]}),Object(n.jsx)(x.a,{component:u.b,to:"/profile",children:Object(n.jsxs)(j.a,{display:"flex",children:[Object(n.jsx)($.a,{src:t.pp,children:t.fullname.charAt(0)}),Object(n.jsx)(j.a,{ml:"10px",my:"auto",width:"200px",children:Object(n.jsx)(ne.a,{title:t.fullname,children:Object(n.jsx)(h.a,{variant:"h6",noWrap:!0,children:t.fullname})})})]})}),Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(ce.a,{})}),"teacher"===t.role?Object(n.jsx)(xe,{}):null]});return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(ae,{loginUser:t,onMenuButtonClick:function(){s(!0)}}),Object(n.jsx)(Y.a,{smDown:!0,children:Object(n.jsx)(re.a,{variant:"permanent",children:b})}),Object(n.jsx)(Y.a,{mdUp:!0,children:Object(n.jsx)(re.a,{open:l,onClose:function(){s(!1)},children:b})}),Object(n.jsx)(j.a,{className:o.root,width:"100%",minHeight:"100vh",children:Object(n.jsx)(j.a,{pt:"90px",ml:{md:"290px"},px:"10px",children:e.children})})]})}var fe=a(174),ge=a(175),ke=a(35),ve=a.n(ke);function ye(e){var t=e.icon,a=e.title;return Object(n.jsxs)(fe.a,{container:!0,children:[Object(n.jsx)(fe.a,{item:!0,xs:12,sm:8,children:Object(n.jsxs)(j.a,{display:"flex",children:[Object(n.jsx)(j.a,{my:"auto",mr:"10px",children:t}),Object(n.jsx)(h.a,{variant:"h4",children:a})]})}),Object(n.jsx)(Y.a,{only:"xs",children:Object(n.jsx)(fe.a,{item:!0,sm:4,children:Object(n.jsxs)(j.a,{display:"flex",flexDirection:"row-reverse",width:"100%",height:"100%",children:[Object(n.jsx)(j.a,{my:"auto",children:Object(n.jsx)(h.a,{children:ve()().format("ll")})}),Object(n.jsx)(j.a,{mr:"10px",display:"flex",alignItems:"center",children:Object(n.jsx)(ge.a,{})})]})})})]})}var we=function(e,t,a){return w("".concat(f,"b/log/get/").concat(t,"/").concat(a),"GET",{token:e})},Se=a(176),Pe=a(177),Te=a(178),Re=a(179),Ce=a(180),Ee=a(181),Ue=a(182),Me=a(6),Ae=a(195),Be=a(115),Ie=Object(Me.a)({missingOppositeContent:{"&:before":{display:"none"}}})(Se.a),Ne=Object(s.a)((function(){return{time:{color:"grey",fontSize:"0.9rem"}}}));function De(){for(var e=Ne(),t=Object(K.c)((function(e){return e.loginUser})),a=Object(c.useState)([]),r=Object(d.a)(a,2),i=r[0],l=r[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),u=o[0],b=o[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),f=m[0],g=m[1],k=[],v=0;v<10;v++)k.push(Object(n.jsx)(j.a,{my:"10px",children:Object(n.jsx)(Pe.a,{variant:"rect",height:"60px",width:"100%"})}));Object(c.useEffect)((function(){we(E(),0,10).then((function(e){e.ok?e.json().then((function(e){l(e.logs);var t=e.total;g(e.logs.length<t),b(!1)})):b(!1)}))}),[]);var y=null;return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Aktivitas Pengguna SIPEMA"})}),Object(n.jsxs)(me,{loginUser:t,children:[Object(n.jsx)(ye,{icon:Object(n.jsx)(J.a,{fontSize:"large"}),title:"Log Aktivitas Pengguna"}),Object(n.jsxs)(j.a,{pl:{xs:0,lg:"100px"},mt:"50px",children:[Object(n.jsxs)(Te.a,{children:[i.map((function(t,a,r){var i=t.created,l=t.user.fullname,s=t.desc,o=t.user.pp,u=ve.a.unix(i).format("ll"),b=!1;return y!==u&&(y=u,b=!0),Object(n.jsxs)(c.Fragment,{children:[b?Object(n.jsx)(j.a,{my:"20px",children:Object(n.jsx)(Ae.a,{label:u})}):null,Object(n.jsxs)(Ie,{children:[Object(n.jsxs)(Re.a,{children:[Object(n.jsx)(Ce.a,{}),r.length-1===a?null:Object(n.jsx)(Ee.a,{})]}),Object(n.jsx)(Ue.a,{children:Object(n.jsxs)(j.a,{display:"flex",component:Be.a,elevation:3,p:"10px",children:[Object(n.jsxs)(j.a,{width:"100%",display:"flex",children:[Object(n.jsx)(j.a,{display:"flex",alignItems:"center",mr:"10px",children:Object(n.jsx)($.a,{src:o,children:l.charAt(0)})}),Object(n.jsx)(j.a,{display:"flex",alignItems:"center",children:Object(n.jsxs)(h.a,{children:[Object(n.jsx)("b",{children:l})," ",s]})})]}),Object(n.jsx)(j.a,{children:Object(n.jsx)(h.a,{className:e.time,children:ve.a.unix(i).format("LT")})})]})})]},t._id)]})})),u?k:null]}),!u&&f?Object(n.jsx)(j.a,{width:"100%",display:"flex",justifyContent:"center",pb:"50px",children:Object(n.jsx)(x.a,{color:"primary",onClick:function(){b(!0);var e=i.length-1;we(E(),e,10).then((function(e){e.ok?e.json().then((function(e){var t=e.total,a=i.slice();a=a.concat(e.logs),g(a.length<t),l(a),b(!1)})):b(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})]})]})}function He(){var e=Object(K.c)((function(e){return e.loginUser}));return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Pengumuman SIPEMA"})}),Object(n.jsx)(me,{loginUser:e,children:Object(n.jsx)(ye,{icon:Object(n.jsx)(ue.a,{fontSize:"large"}),title:"Pengumuman"})})]})}function Le(){var e=Object(K.c)((function(e){return e.loginUser}));return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Manajemen Murid SIPEMA"})}),Object(n.jsx)(me,{loginUser:e,children:Object(n.jsx)(ye,{icon:Object(n.jsx)(be.a,{fontSize:"large"}),title:"Manajemen Murid"})})]})}function Fe(){var e=Object(K.c)((function(e){return e.loginUser}));return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(me,{loginUser:e,children:Object(n.jsx)(ye,{icon:Object(n.jsx)(de.a,{fontSize:"large"}),title:"Riwayat Pembayaran Murid"})})})}var Ge=a(187),We=a(183);function Ke(){var e=Object(K.c)((function(e){return e.loginUser})),t=Object(K.b)(),a=e.fullname,i=e.email,l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],u=s[1],b=Object(c.useState)(!1),h=Object(d.a)(b,2),p=h[0],m=h[1],g=r.a.createRef(),k=Object(c.useState)(null),v=Object(d.a)(k,2),y=v[0],S=v[1],P=function(){var n=g.current.value;u(null),n!==a&&(n.length<=0?u("Tidak boleh kosong."):(m(!0),function(e,t){return w("".concat(f,"b/user/profile/set"),"PUT",{"Content-Type":"application/json",token:e},{fullname:t})}(E(),n).then((function(a){a.ok?(e.fullname=n,t(z(e)),S("Berhasil mengedit profil anda.")):S("Gagal mengedit profil anda."),m(!1)}))))};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(j.a,{mt:"50px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Nama Lengkap",placeholder:"Masukan nama lengkap anda...",defaultValue:a,error:o,helperText:o,inputRef:g,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),P())}})}),Object(n.jsx)(j.a,{mt:"30px",mb:"50px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Email",disabled:!0,value:i})}),Object(n.jsx)(j.a,{display:"flex",mb:"30px",flexDirection:"row-reverse",children:Object(n.jsx)(x.a,{color:"primary",variant:"contained",disabled:p,onClick:P,children:p?"MENGUBAH...":"UBAH"})}),Object(n.jsx)(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:y,open:y,autoHideDuration:6e3,onClose:function(){S(null)}},y)]})}function ze(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],u=s[1],b=Object(c.useState)(null),h=Object(d.a)(b,2),p=h[0],m=h[1],g=Object(c.useState)(!1),k=Object(d.a)(g,2),v=k[0],y=k[1],S=Object(c.useState)(null),P=Object(d.a)(S,2),T=P[0],R=P[1],C=Object(c.createRef)(),U=Object(c.createRef)(),M=Object(c.createRef)(),A=function(){i(null),m(null),u(null),R(null);var e,t,a,n=C.current.value,c=U.current.value,r=M.current.value;n.length<=0?i("Tidak boleh kosong."):c.length<8?u("Panjang minimal 8 karakter."):c!==r?(u("Harus sama."),m("Harus sama.")):(y(!0),(e=E(),t=n,a=c,w("".concat(f,"b/user/password/set"),"PUT",{"Content-Type":"application/json",token:e},{old_password:t,new_password:a})).then((function(e){e.ok?R("Berhasil mengganti password."):401===e.status?R("Password/token tidak valid."):500===e.status&&R("Terjadi masalah, mohon coba lagi nanti."),y(!1)})))};return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(j.a,{mt:"50px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Password Lama",placeholder:"Masukan password lama anda...",type:"password",error:a,helperText:a,inputRef:C,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{mt:"30px",mb:"50px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",type:"password",inputRef:U,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{mt:"30px",mb:"50px",children:Object(n.jsx)(O.a,{fullWidth:!0,label:"Ulangi Password Baru",placeholder:"Masukan ulang password baru anda...",type:"password",inputRef:M,error:p,helperText:p,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}})}),Object(n.jsx)(j.a,{display:"flex",mb:"30px",flexDirection:"row-reverse",children:Object(n.jsx)(x.a,{color:"primary",variant:"contained",disabled:v,onClick:A,children:v?"MENGUBAH...":"UBAH"})}),Object(n.jsx)(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:T,open:T,autoHideDuration:6e3,onClose:function(){R(null)}},T)]})}var _e=Object(s.a)((function(e){return{pp:{height:e.spacing(15),width:e.spacing(15),fontSize:"80px"},inputContainer:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},photoSizeDesc:{backgroundColor:he.a[100]},editProfileHeader:{backgroundColor:he.a[100]}}}));function Je(){var e=_e(),t=Object(K.c)((function(e){return e.loginUser})),a=Object(K.b)(),i=Object(c.useState)(!1),l=Object(d.a)(i,2),s=l[0],o=l[1],O=Object(c.useState)(null),m=Object(d.a)(O,2),g=m[0],k=m[1],v=t.fullname,y=t.role,w=t.pp,P=t.created,T=Object(c.useState)(window.location.pathname),R=Object(d.a)(T,2),C=R[0],U=R[1];return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"Profil SIPEMA"})}),Object(n.jsx)(me,{loginUser:t,children:Object(n.jsxs)(fe.a,{container:!0,direction:"row-reverse",spacing:2,children:[Object(n.jsx)(fe.a,{item:!0,xs:12,lg:4,children:Object(n.jsxs)(j.a,{component:Be.a,p:"20px",children:[Object(n.jsx)(h.a,{variant:"h4",gutterBottom:!0,align:"center",children:v}),Object(n.jsx)(h.a,{gutterBottom:!0,align:"center",children:"teacher"===y?"Guru":"Murid"}),Object(n.jsx)(j.a,{display:"flex",width:"100%",my:"20px",children:Object(n.jsx)(j.a,{mx:"auto",children:s?Object(n.jsx)(Pe.a,{height:"120px",width:"120px",variant:"circle"}):Object(n.jsx)($.a,{src:w,className:e.pp,children:v.charAt(0)})})}),Object(n.jsx)(j.a,{display:"flex",width:"100%",mb:"20px",children:Object(n.jsxs)(j.a,{mx:"auto",className:e.inputContainer,children:[Object(n.jsx)("input",{accept:"image/*",className:e.input,type:"file",id:"contained-button-file",onChange:function(e){var n=e.target.files[0];(n.size/1024/1024).toFixed(4)>=10?k("Ukuran foto tidak boleh melebihi 10 MB."):(o(!0),function(e,t){var a=new FormData;return a.append("photo",t),S("".concat(f,"b/user/profile/picture/set"),"PUT",{token:e},a)}(E(),n).then((function(e){e.ok?e.json().then((function(e){t.pp=e.pp,a(z(t)),o(!1),k("Berhasil mengganti foto profil.")})):(o(!1),k("Gagal mengganti foto profil."))})))}}),Object(n.jsx)("label",{htmlFor:"contained-button-file",children:Object(n.jsx)(x.a,{variant:"contained",color:"primary",component:"span",children:"GANTI FOTO PROFIL"})})]})}),Object(n.jsx)(j.a,{p:"10px",className:e.photoSizeDesc,mb:"20px",children:Object(n.jsxs)(h.a,{align:"center",children:["Ukuran foto maksimum: ",Object(n.jsx)("b",{children:"10 MB"})]})}),Object(n.jsx)(j.a,{mb:"20px",children:Object(n.jsxs)(h.a,{children:["Bergabung pada: ",Object(n.jsx)("b",{children:ve.a.unix(P).format("llll")})]})})]})}),Object(n.jsx)(fe.a,{item:!0,xs:12,lg:8,children:Object(n.jsxs)(j.a,{component:Be.a,children:[Object(n.jsxs)(j.a,{px:"20px",className:e.editProfileHeader,children:[Object(n.jsx)(j.a,{py:"40px",children:Object(n.jsx)(h.a,{variant:"h4",children:"Edit Profil"})}),Object(n.jsxs)(Ge.a,{indicatorColor:"primary",value:C,onChange:function(e,t){U(t)},children:[Object(n.jsx)(We.a,{label:"Umum",component:u.b,to:"/profile",value:"/profile"}),Object(n.jsx)(We.a,{label:"Ganti Password",component:u.b,to:"/profile/password",value:"/profile/password"})]})]}),Object(n.jsx)(j.a,{p:"20px",children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/profile/password",children:Object(n.jsx)(ze,{})}),Object(n.jsx)(b.a,{path:"/profile",children:Object(n.jsx)(Ke,{})})]})})]})})]})}),Object(n.jsx)(Z.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:g,open:g,autoHideDuration:6e3,onClose:function(){k(null)}},g)]})}function qe(){var e=Object(b.f)(),t=Object(K.b)(),a=Object(K.c)((function(e){return e.loginUser})),i=Object(c.useState)(!0),l=Object(d.a)(i,2),s=l[0],o=l[1];if(Object(c.useEffect)((function(){if(null===a){var n=E();null===n?e.push("/login"):(o(!0),function(e){return S("".concat(f,"b/user/profile"),"GET",{token:e})}(n).then((function(a){a.ok?a.json().then((function(e){t(z(e)),o(!1)})):e.push("/login")})))}}),[a,t,e]),s)return Object(n.jsx)(F,{});var j=null;return"student"===a.role?a.approved||(j=Object(n.jsx)(b.a,{path:"/",children:Object(n.jsx)(_,{})})):"teacher"===a.role&&(j=[Object(n.jsx)(b.a,{path:"/students",children:Object(n.jsx)(Le,{})}),Object(n.jsx)(b.a,{path:"/payment",children:Object(n.jsx)(Fe,{})}),Object(n.jsx)(b.a,{path:"/log",children:Object(n.jsx)(De,{})}),Object(n.jsx)(b.a,{path:"/profile",children:Object(n.jsx)(Je,{})}),Object(n.jsx)(b.a,{path:"/",children:Object(n.jsx)(He,{})})]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(p.a,{children:Object(n.jsx)("title",{children:"SIPEMA"})}),Object(n.jsx)(b.c,{children:j})]})}a(112);ve.a.locale("id");var Ve=Object(s.a)((function(){return{root:{backgroundColor:"white"}}}));var Ye=function(){var e=Ve();return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(o.a,{}),Object(n.jsx)(j.a,{className:e.root,children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/login",children:Object(n.jsx)(A,{})}),Object(n.jsx)(b.a,{path:"/register/token/:token",children:Object(n.jsx)(G,{})}),Object(n.jsx)(b.a,{path:"/register",children:Object(n.jsx)(I,{})}),Object(n.jsx)(b.a,{path:"/password/reset/token/:token",children:Object(n.jsx)(W,{})}),Object(n.jsx)(b.a,{path:"/password/reset",children:Object(n.jsx)(H,{})}),Object(n.jsx)(b.a,{path:"/",children:Object(n.jsx)(qe,{})}),Object(n.jsx)(b.a,{path:"*",children:Object(n.jsx)(B,{})})]})})})]})},$e=a(50),Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return t.payload;case"LOG_OUT":return null;default:return e}},Xe=Object($e.b)({loginUser:Qe}),Ze=Object($e.c)(Xe);l.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(K.a,{store:Ze,children:Object(n.jsx)(Ye,{})})}),document.getElementById("root"))}},[[113,1,2]]]);