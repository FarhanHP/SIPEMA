(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{142:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(16),l=n.n(i),s=n(109),o=n(226),j=n(227),u=n(10),b=n(22),d=n(5),h=n(228),x=n(68),O=n(233),p=n(188),m=n(23),f=n(104),g=function(e){return e.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g)},y=function(e){var t,n=e.split("\n"),c=[],r=Object(f.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;c.push(i),c.push(Object(a.jsx)("br",{}))}}catch(l){r.e(l)}finally{r.f()}return c.pop(),c},v=function(e){for(var t=String(e),n=[],a=0,c=t.length;c>=0;c--)n.splice(0,0,t.charAt(c)),0!==a&&a%3===0&&0!==c&&n.splice(0,0,"."),a++;return n.join("")},k="https://sipema.herokuapp.com/",w="sipema.herokuapp.com",S=n(15),T=n.n(S),A=n(20),C=function(){var e=Object(A.a)(T.a.mark((function e(t,n,a,c,r){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(t,n,a,JSON.stringify(c),r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),E=function(){var e=Object(A.a)(T.a.mark((function e(t,n,a,c,r){var i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:a,redirect:"follow",referrerPolicy:"no-referrer",body:c,signal:r}).catch((function(e){console.warn("Fetch 1 error: ".concat(e.message))}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),B=function(e){return E("".concat(k,"b/user/logout"),"DELETE",{token:e})},R=n(230),N=n(182);function M(e){var t=e.severity,n=e.title,c=e.body;return Object(a.jsxs)(R.a,{severity:t,children:[Object(a.jsx)(N.a,{children:n}),c]})}var P=function(){return window.localStorage.getItem("login_token")},D=function(e){window.localStorage.setItem("login_token",e)},U=function(){window.localStorage.removeItem("login_token")};function I(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],b=Object(c.useState)(!1),f=Object(d.a)(b,2),y=f[0],v=f[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),T=S[0],A=S[1],E=r.a.createRef(),B=r.a.createRef(),R=function(){var e=E.current.value,t=B.current.value;A(null),i(null),j(null),e.length<=0?i("Tidak boleh kosong"):g(e)?t.length<=0?j("Tidak boleh kosong"):(v(!0),function(e,t){return C("".concat(k,"b/user/login"),"POST",{"Content-Type":"application/json"},{email:e,password:t})}(e,t).then((function(e){500===e.status?(A("Terjadi masalah, mohon coba lagi nanti."),v(!1)):e.status>=400?(A("Email atau password salah."),v(!1)):e.json().then((function(e){D(e.token),window.location.href="/"}))}))):i("Email tidak berlaku")};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Login SIPEMA"})}),Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",width:"320px",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),T?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(M,{severity:"error",title:"Login Error",body:T})}):null,Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Email",placeholder:"Masukan email anda...",inputRef:E,error:n,helperText:n,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),R())}})}),Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Password",type:"password",placeholder:"Masukan password anda...",inputRef:B,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),R())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:y,onClick:R,children:y?"MENCOBA MASUK...":"MASUK"})}),Object(a.jsx)(x.a,{gutterBottom:!0,variant:"body1",align:"center",children:Object(a.jsx)(u.b,{to:"/password/reset",children:"Lupa Password"})}),Object(a.jsxs)(x.a,{gutterBottom:!0,variant:"body1",align:"center",children:["Belum punya akun ? ",Object(a.jsx)(u.b,{to:"/register",children:"Daftar"})]})]})})]})}function G(){return Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"ERROR 404: Halaman yang kamu cari tidak ditemukan :("}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(a.jsx)(u.b,{href:"/",children:w})})]})})}function H(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],b=Object(c.useState)(null),f=Object(d.a)(b,2),y=f[0],v=f[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),T=S[0],A=S[1],E=Object(c.useState)(!1),B=Object(d.a)(E,2),R=B[0],N=B[1],P=Object(c.useState)(null),D=Object(d.a)(P,2),U=D[0],I=D[1],G=Object(c.useState)(null),H=Object(d.a)(G,2),_=H[0],W=H[1],F=r.a.createRef(),L=r.a.createRef(),z=r.a.createRef(),K=r.a.createRef(),V=function(){var e=F.current.value,t=L.current.value,n=z.current.value,a=K.current.value;i(null),j(null),v(null),A(null),I(null),W(null),e.length<=0?i("Tidak boleh kosong"):g(e)?t.length<=0?j("Tidak boleh kosong"):n.length<8?v("Password tidak boleh kurang dari 8 karakter"):n!==a?(A("Harus sama"),v("Harus sama")):(N(!0),function(e,t,n){return C("".concat(k,"b/user/register/request"),"POST",{"Content-Type":"application/json"},{email:e,fullname:t,password:n})}(e,t,n).then((function(e){500===e.status?W("Terjadi masalah, mohon coba lagi nanti."):409===e.status?i("Email sudah dipakai"):I("Silakan cek email anda untuk verifikasi"),N(!1)}))):i("Email tidak berlaku")};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Daftar SIPEMA"})}),Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",width:"320px",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"SIPEMA"}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Sistem Informasi Pengajian Musholla Al-Ikhlas"}),U?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(M,{severity:"success",title:"Berhasil Mendaftar",body:U})}):_?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(M,{severity:"error",title:"Gagal Mendaftar",body:_})}):null,Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:F,error:n,helperText:n,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),V())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Nama lengkap",placeholder:"Masukan nama lengkap anda...",fullWidth:!0,inputRef:L,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),V())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Password",type:"password",placeholder:"Masukan password anda...",fullWidth:!0,inputRef:z,error:y,helperText:y,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),V())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{label:"Ulangi password",placeholder:"Ulangi password anda...",fullWidth:!0,inputRef:K,error:T,type:"password",helperText:T,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),V())}})}),Object(a.jsx)(h.a,{mt:"40px",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:R,onClick:V,children:R?"MENDAFTAR...":"DAFTAR"})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsxs)(x.a,{align:"center",children:["Sudah punya akun ? ",Object(a.jsx)(u.b,{to:"/login",children:"Login"})]})})]})})]})}var _=n(144),W=n(189);function F(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(!1),s=Object(d.a)(l,2),o=s[0],j=s[1],b=Object(c.useState)(null),f=Object(d.a)(b,2),y=f[0],v=f[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),T=S[0],A=S[1],E=r.a.createRef(),B=function(){i(null),v(null),A(null);var e=E.current.value;e.length<=0?i("Tidak boleh kosong"):g(e)?(j(!0),function(e){return C("".concat(k,"b/user/password/reset"),"POST",{"Content-Type":"application/json"},{email:e})}(e).then((function(e){500===e.status?v("Terjadi masalah, mohon coba lagi nanti."):404===e.status?v("Email tidak terdaftar."):A("Silakan cek email anda. Jika tidak ada, coba cek folder spam."),j(!1)}))):i("Email tidak berlaku")};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Lupa Password SIPEMA"})}),Object(a.jsxs)(h.a,{display:"flex",minHeight:"100vh",width:"100%",flexDirection:"column",children:[Object(a.jsx)(h.a,{p:{xs:"0",sm:"10px"},children:Object(a.jsx)(_.a,{component:u.b,to:"/login",children:Object(a.jsx)(W.a,{})})}),Object(a.jsxs)(h.a,{margin:"auto",width:"320px",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Lupa Password Akun SIPEMA"}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Anda akan dikirimi email yang berisi tautan untuk mengganti password anda."}),T?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(M,{severity:"success",title:"Permintaan reset password berhasil",body:T})}):y?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(M,{severity:"error",title:"Permintaan reset password gagal",body:y})}):null,Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(O.a,{label:"Email",placeholder:"Masukan email anda...",fullWidth:!0,inputRef:E,error:n,helperText:n,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),B())}})}),Object(a.jsx)(h.a,{display:"flex",flexDirection:"row-reverse",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:o,onClick:B,children:o?"MERESET PASSWORD...":"RESET PASSWORD"})})]})]})]})}var L=n(190);function z(){return Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(L.a,{number:100})})})}function K(){var e=Object(b.h)().token,t=Object(c.useState)(null),n=Object(d.a)(t,2),r=n[0],i=n[1],l=Object(c.useState)(!0),s=Object(d.a)(l,2),o=s[0],j=s[1];return Object(c.useEffect)((function(){j(!0),function(e){return E("".concat(k,"b/user/register/token/").concat(e),"PUT")}(e).then((function(e){500===e.status?(i("ERROR 500: Terjadi masalah, mohon coba lagi nanti."),j(!1)):401===e.status?(i("ERROR 401: Token sudah kadaluarsa."),j(!1)):403===e.status?(i("ERROR 403: Token tidak berlaku."),j(!1)):e.json().then((function(e){D(e.token),window.location.href="/"}))}))}),[e]),o?Object(a.jsx)(z,{}):r?Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(a.jsx)("a",{href:"/",children:w})})]})}):Object(a.jsx)("p",{children:"Success"})}function V(){var e=Object(b.h)().token,t=Object(c.useState)(!0),n=Object(d.a)(t,2),i=n[0],l=n[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),j=o[0],f=o[1],g=Object(c.useState)(!1),y=Object(d.a)(g,2),v=y[0],S=y[1],T=Object(c.useState)(null),A=Object(d.a)(T,2),B=A[0],R=A[1],N=Object(c.useState)(null),P=Object(d.a)(N,2),D=P[0],U=P[1],I=Object(c.useState)(null),G=Object(d.a)(I,2),H=G[0],_=G[1],W=Object(c.useState)(null),F=Object(d.a)(W,2),L=F[0],K=F[1],V=r.a.createRef(),Y=r.a.createRef();Object(c.useEffect)((function(){l(!0),function(e){return E("".concat(k,"b/user/password/reset/check/token/").concat(e),"GET")}(e).then((function(e){500===e.status?f("ERROR 500: Terjadi masalah, mohon coba lagi nanti."):401===e.status?f("ERROR 401: Token kadaluarsa."):404===e.status&&f("ERROR 404: Token tidak valid."),l(!1)}))}),[e]);var q=function(){_(null),K(null),R(null),U(null);var t=V.current.value,n=Y.current.value;t.length<8?R("Panjang password tidak boleh kurang dari 8 karakter"):t!==n?(R("Harus sama"),U("Harus sama")):(S(!0),function(e,t){return C("".concat(k,"b/user/password/reset/token/").concat(e),"PUT",{"Content-Type":"application/json"},{password:t})}(e,t).then((function(e){500===e.status?K("Terjadi masalah, mohon coba lagin nanti."):404===e.status?K("Token tidak valid."):401===e.status?K("Token telah kadaluarsa."):_(Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(x.a,{gutterBottom:!0,children:"Silakan login dengan password baru anda."}),Object(a.jsx)(h.a,{display:"flex",children:Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(p.a,{color:"primary",component:u.b,to:"/login",children:"LOGIN"})})})]})),S(!1)})))};return i?Object(a.jsx)(z,{}):j?Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",p:"10px",children:[Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:j}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:Object(a.jsx)(u.b,{to:"/",children:w})})]})}):Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Ganti Password SIPEMA"})}),Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",p:"10px",width:"320px",children:[Object(a.jsx)(x.a,{align:"center",variant:"h5",gutterBottom:!0,children:"Ganti Password Akun SIPEMA"}),H?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(M,{severity:"success",title:"Berhasil Mengganti Password",body:H})}):L?Object(a.jsx)(M,{severity:"error",title:"Gagal Mengganti Password",body:L}):null,Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{type:"password",fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",error:B,helperText:B,inputRef:V,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),q())}})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{type:"password",fullWidth:!0,label:"Ulangi Password",placeholder:"Ulangi password baru anda...",error:D,helperText:D,inputRef:Y,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),q())}})}),Object(a.jsx)(h.a,{my:"40px",children:Object(a.jsx)(p.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:v,onClick:q,children:v?"MENGGANTI PASSWORD...":"GANTI PASSWORD"})})]})})]})}var Y=n(18),q=function(e){return{type:"LOG_IN",payload:e}};function J(){var e=P(),t=Object(Y.c)((function(e){return e.loginUser})),n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],l=r[1];return Object(a.jsx)(h.a,{display:"flex",minHeight:"100vh",width:"100%",children:Object(a.jsxs)(h.a,{margin:"auto",width:"320px",children:[Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"Selamat datang di SIPEMA"}),Object(a.jsx)(h.a,{mb:"30px"}),Object(a.jsx)(x.a,{variant:"h5",align:"center",gutterBottom:!0,children:t.fullname}),Object(a.jsx)(h.a,{mb:"30px"}),Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"Pendaftaran Anda belum disetujui, silakan hubungi guru anda."}),Object(a.jsx)(h.a,{mb:"40px"}),Object(a.jsx)(h.a,{my:"40px",display:"flex",children:Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(p.a,{color:"primary",disabled:i,onClick:function(){l(!0),B(e).then((function(e){e.ok&&(U(),window.location.href="/login"),l(!1)}))},children:i?"LOGGING OUT...":"LOG OUT"})})})]})})}var X=n(202),Q=n(191),$=n(192),Z=n(193),ee=n(232),te=n(239),ne=n(110),ae=n(195),ce=n(234),re=n(194),ie=Object(Q.a)((function(){return{root:{backgroundColor:"white"}}}));function le(e){var t=ie(),n=e.loginUser,i=Object(c.useState)(null),l=Object(d.a)(i,2),s=l[0],o=l[1],j=Object(c.useState)(!1),b=Object(d.a)(j,2),x=b[0],O=b[1],m=Object(c.useState)(null),f=Object(d.a)(m,2),g=f[0],y=f[1],v=e.onMenuButtonClick;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)($.a,{className:t.root,elevation:1,children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(h.a,{width:"50%",display:"flex",children:Object(a.jsx)(ee.a,{mdUp:!0,children:Object(a.jsx)(_.a,{size:"small",onClick:v,children:Object(a.jsx)(re.a,{})})})}),Object(a.jsx)(h.a,{width:"50%",display:"flex",flexDirection:"row-reverse",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{onClick:function(e){o(e.currentTarget)},size:"small",children:Object(a.jsx)(te.a,{src:n.pp,children:n.fullname.charAt(0)})}),Object(a.jsxs)(ne.a,{open:s,onClose:function(){o(null)},anchorEl:s,children:[Object(a.jsx)(ae.a,{component:u.b,to:"/profile",children:"Profil"}),Object(a.jsx)(ae.a,{component:p.a,onClick:function(){O(!0),B(P()).then((function(e){e.ok?(U(),window.location.href="/"):(y("Gagal Log Out."),O(!1))}))},disabled:x,children:x?"Logging Out...":"Log Out"})]})]})})]})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:g,onClose:function(){y(null)},message:g,autoHideDuration:6e3})]})}var se=n(235),oe=n(204),je=n(240),ue=n(203),be=n(187),de=n(145),he=n(197),xe=n(199),Oe=n(198),pe=n(200),me=n(201),fe=n(196),ge=Object(Q.a)((function(){return{listBtn:{color:"black",fontWeight:"bold"},listItemIcon:{color:"black"},activeLink:{backgroundColor:fe.a[100],borderRadius:"0 20px 20px 0"}}}));function ye(){var e=ge();return Object(a.jsxs)(be.a,{children:[Object(a.jsxs)(de.a,{button:!0,className:e.listBtn,component:u.c,exact:!0,to:"/",activeClassName:e.activeLink,children:[Object(a.jsx)(he.a,{className:e.listItemIcon,children:Object(a.jsx)(Oe.a,{})}),Object(a.jsx)(xe.a,{primary:"Pengumuman"})]}),Object(a.jsxs)(de.a,{button:!0,className:e.listBtn,component:u.c,to:"/students",activeClassName:e.activeLink,children:[Object(a.jsx)(he.a,{className:e.listItemIcon,children:Object(a.jsx)(pe.a,{})}),Object(a.jsx)(xe.a,{primary:"Manajemen Murid"})]}),Object(a.jsxs)(de.a,{button:!0,className:e.listBtn,component:u.c,to:"/payment",activeClassName:e.activeLink,children:[Object(a.jsx)(he.a,{className:e.listItemIcon,children:Object(a.jsx)(me.a,{})}),Object(a.jsx)(xe.a,{primary:"Riwayat Pembayaran Murid"})]}),Object(a.jsxs)(de.a,{button:!0,className:e.listBtn,component:u.c,to:"/log",activeClassName:e.activeLink,children:[Object(a.jsx)(he.a,{className:e.listItemIcon,children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(xe.a,{primary:"Log Aktivitas Pengguna"})]})]})}var ve=Object(Q.a)((function(){return{root:{backgroundColor:"white"}}}));function ke(e){var t=e.loginUser,n=Object(c.useState)(!1),i=Object(d.a)(n,2),l=i[0],s=i[1],o=ve(),j=Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(ee.a,{mdUp:!0,children:Object(a.jsx)(h.a,{my:"auto",children:Object(a.jsx)(_.a,{onClick:function(){s(!1)},children:Object(a.jsx)(ue.a,{})})})}),Object(a.jsx)(h.a,{p:"20px",children:Object(a.jsx)(x.a,{variant:"h4",children:"SIPEMA"})})]}),Object(a.jsx)(p.a,{component:u.b,to:"/profile",children:Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(te.a,{src:t.pp,children:t.fullname.charAt(0)}),Object(a.jsx)(h.a,{ml:"10px",my:"auto",width:"200px",children:Object(a.jsx)(se.a,{title:t.fullname,children:Object(a.jsx)(x.a,{variant:"h6",noWrap:!0,children:t.fullname})})})]})}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(oe.a,{})}),"teacher"===t.role?Object(a.jsx)(ye,{}):null]});return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(le,{loginUser:t,onMenuButtonClick:function(){s(!0)}}),Object(a.jsx)(ee.a,{smDown:!0,children:Object(a.jsx)(je.a,{variant:"permanent",children:j})}),Object(a.jsx)(ee.a,{mdUp:!0,children:Object(a.jsx)(je.a,{open:l,onClose:function(){s(!1)},children:j})}),Object(a.jsx)(h.a,{className:o.root,width:"100%",minHeight:"100vh",children:Object(a.jsx)(h.a,{pt:"90px",ml:{md:"290px"},px:"10px",children:e.children})})]})}var we=n(205),Se=n(206),Te=n(17),Ae=n.n(Te);function Ce(e){var t=e.icon,n=e.title;return Object(a.jsxs)(we.a,{container:!0,children:[Object(a.jsx)(we.a,{item:!0,xs:12,sm:8,children:Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(h.a,{my:"auto",mr:"10px",children:t}),Object(a.jsx)(x.a,{variant:"h4",children:n})]})}),Object(a.jsx)(ee.a,{only:"xs",children:Object(a.jsx)(we.a,{item:!0,sm:4,children:Object(a.jsxs)(h.a,{display:"flex",flexDirection:"row-reverse",width:"100%",height:"100%",children:[Object(a.jsx)(h.a,{my:"auto",children:Object(a.jsx)(x.a,{children:Ae()().format("ll")})}),Object(a.jsx)(h.a,{mr:"10px",display:"flex",alignItems:"center",children:Object(a.jsx)(Se.a,{})})]})})})]})}var Ee=function(e,t,n){return C("".concat(k,"b/log/get/").concat(t,"/").concat(n),"GET",{token:e})},Be=n(207),Re=n(208),Ne=n(209),Me=n(210),Pe=n(211),De=n(212),Ue=n(213),Ie=n(7),Ge=n(241),He=n(93),_e=Object(Ie.a)({missingOppositeContent:{"&:before":{display:"none"}}})(Be.a),We=Object(Q.a)((function(){return{time:{color:"grey",fontSize:"0.9rem"}}}));function Fe(){for(var e=We(),t=Object(Y.c)((function(e){return e.loginUser})),n=Object(c.useState)([]),r=Object(d.a)(n,2),i=r[0],l=r[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),j=o[0],u=o[1],b=Object(c.useState)(!1),O=Object(d.a)(b,2),f=O[0],g=O[1],y=[],v=0;v<10;v++)y.push(Object(a.jsx)(h.a,{my:"10px",children:Object(a.jsx)(Re.a,{variant:"rect",height:"60px",width:"100%"})}));Object(c.useEffect)((function(){Ee(P(),0,10).then((function(e){e.ok?e.json().then((function(e){l(e.logs);var t=e.total;g(e.logs.length<t),u(!1)})):u(!1)}))}),[]);var k=null;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Aktivitas Pengguna SIPEMA"})}),Object(a.jsxs)(ke,{loginUser:t,children:[Object(a.jsx)(Ce,{icon:Object(a.jsx)(X.a,{fontSize:"large"}),title:"Log Aktivitas Pengguna"}),Object(a.jsxs)(h.a,{pl:{xs:0,lg:"100px"},mt:"50px",children:[Object(a.jsxs)(Ne.a,{children:[i.map((function(t,n,r){var i=t.created,l=t.user.fullname,s=t.desc,o=t.user.pp,j=Ae.a.unix(i).format("ll"),u=!1;return k!==j&&(k=j,u=!0),Object(a.jsxs)(c.Fragment,{children:[u?Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(Ge.a,{label:j})}):null,Object(a.jsxs)(_e,{children:[Object(a.jsxs)(Me.a,{children:[Object(a.jsx)(Pe.a,{}),r.length-1===n?null:Object(a.jsx)(De.a,{})]}),Object(a.jsx)(Ue.a,{children:Object(a.jsxs)(h.a,{display:"flex",component:He.a,elevation:3,p:"10px",children:[Object(a.jsxs)(h.a,{width:"100%",display:"flex",children:[Object(a.jsx)(h.a,{display:"flex",alignItems:"center",mr:"10px",children:Object(a.jsx)(te.a,{src:o,children:l.charAt(0)})}),Object(a.jsx)(h.a,{display:"flex",alignItems:"center",children:Object(a.jsxs)(x.a,{children:[Object(a.jsx)("b",{children:l})," ",s]})})]}),Object(a.jsx)(h.a,{children:Object(a.jsx)(x.a,{className:e.time,children:Ae.a.unix(i).format("LT")})})]})})]},t._id)]})})),j?y:null]}),!j&&f?Object(a.jsx)(h.a,{width:"100%",display:"flex",justifyContent:"center",pb:"50px",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){u(!0);var e=i.length-1;Ee(P(),e,10).then((function(e){e.ok?e.json().then((function(e){var t=e.total,n=i.slice();n=n.concat(e.logs),g(n.length<t),l(n),u(!1)})):u(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})]})]})}var Le=n(40),ze=n(219),Ke=n(218),Ve=n(220),Ye=n(214),qe=n(215),Je=n(216);function Xe(e){var t=Object(c.createRef)(),n=Object(c.createRef)(),r=e.headerTitle,i=e.btnName,l=e.defaultTitle,s=e.defaultBody,o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],b=j[1],x=Object(c.useState)(null),m=Object(d.a)(x,2),f=m[0],g=m[1],y=Object(c.useState)(!1),v=Object(d.a)(y,2),k=v[0],w=v[1];return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Ye.a,{children:r}),Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(O.a,{inputRef:t,error:u,helperText:u,label:"Judul",placeholder:"Masukan judul pengumuman...",defaultValue:l,fullWidth:!0}),Object(a.jsx)(h.a,{my:"20px"}),Object(a.jsx)(O.a,{inputRef:n,error:f,helperText:f,label:"Isi Pengumuman",placeholder:"Masukan isi pengumuman...",multiline:!0,defaultValue:s,fullWidth:!0})]}),Object(a.jsx)(Je.a,{children:Object(a.jsx)(p.a,{color:"primary",disabled:k,onClick:function(){b(null),g(null);var a=t.current.value,c=n.current.value;if(a.length<=0)b("Tidak boleh kosong");else if(c.length<=0)g("Tidak boleh kosong");else{w(!0),e.handleSubmit(a,c).then((function(e){e||w(!1)}))}},children:k?i.loading:i.normal})})]})}var Qe=function(e,t,n){return C("".concat(k,"b/announcement/create"),"POST",{"Content-Type":"application/json",token:n},{title:e,body:t})},$e=function(e,t,n,a){return C("".concat(k,"b/announcement/edit/").concat(e),"PUT",{"Content-Type":"application/json",token:a},{title:t,body:n})},Ze=function(e,t){return E("".concat(k,"b/announcement/delete/").concat(e),"DELETE",{token:t})},et=function(e,t,n){return E("".concat(k,"b/announcement/get/").concat(e,"/").concat(t),"GET",{token:n})},tt=n(69),nt=n(217),at=Object(Q.a)((function(){return{created:{color:"grey"}}}));function ct(e){var t=at(),n=e.announcement,r=n.title,i=n.body,l=n.created,s=e.onDelete,o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],b=j[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),f=m[0],g=m[1],y=e.onBodyClick;return Object(a.jsxs)(h.a,{mx:"auto",my:"10px",width:{xs:"100%",sm:"500px"},component:He.a,height:"140px",p:"10px",elevation:3,display:"flex",flexDirection:"column",children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(h.a,{width:"90%",component:tt.a,onClick:y,justifyContent:"left",children:Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,noWrap:!0,align:"left",children:r})}),s?Object(a.jsxs)(h.a,{display:"flex",width:"10%",flexDirection:"row-reverse",children:[Object(a.jsx)(_.a,{size:"small",onClick:function(e){b(e.currentTarget)},children:Object(a.jsx)(nt.a,{})}),Object(a.jsx)(ne.a,{open:u,anchorEl:u,onClose:function(){b(null)},children:Object(a.jsx)(ae.a,{component:p.a,disabled:f,onClick:function(){g(!0),s().then((function(e){e||g(!1)}))},children:f?"MENGHAPUS...":"HAPUS"})})]}):null]}),Object(a.jsx)(x.a,{align:"justify",gutterBottom:!0,noWrap:!0,onClick:y,children:i}),Object(a.jsx)(h.a,{display:"flex",flexDirection:"column-reverse",flex:1,onClick:y,children:Object(a.jsx)(x.a,{align:"right",className:t.created,children:Ae.a.unix(l).fromNow()})})]})}var rt=Object(Q.a)((function(e){var t;return{fab:(t={position:"fixed"},Object(Le.a)(t,e.breakpoints.up("xs"),{right:e.spacing(1),bottom:e.spacing(1)}),Object(Le.a)(t,e.breakpoints.up("xs"),{right:e.spacing(2),bottom:e.spacing(2)}),t),created:{color:"grey"}}}));function it(){var e=Object(b.g)(),t=rt(),n=Object(Y.c)((function(e){return e.loginUser})),r=Object(c.useState)(!1),i=Object(d.a)(r,2),l=i[0],s=i[1],o=Object(c.useState)(null),j=Object(d.a)(o,2),u=j[0],O=j[1],f=Object(c.useState)([]),g=Object(d.a)(f,2),y=g[0],v=g[1],k=Object(c.useState)(!0),w=Object(d.a)(k,2),S=w[0],C=w[1],E=Object(c.useState)(!1),B=Object(d.a)(E,2),R=B[0],N=B[1],M=[];Object(c.useEffect)((function(){et(0,5,P()).then((function(e){e.ok?e.json().then((function(e){var t=e.announcements,n=e.count;v(t),N(n>t.length),C(!1)})):C(!1)}))}),[]);for(var D=0;D<5;D++)M.push(Object(a.jsx)(h.a,{my:"10px",mx:"auto",height:"140px",width:{xs:"100%",sm:"500px"},children:Object(a.jsx)(Re.a,{variant:"rect",width:"100%",height:"100%"})}));return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Pengumuman SIPEMA"})}),Object(a.jsxs)(ke,{loginUser:n,children:[Object(a.jsx)(Ce,{icon:Object(a.jsx)(Oe.a,{fontSize:"large"}),title:"Pengumuman"}),Object(a.jsx)(h.a,{minHeight:"75vh",width:"100%",display:"flex",flexDirection:"column",children:y.length<=0&&!S?Object(a.jsx)(h.a,{margin:"auto",children:Object(a.jsx)(x.a,{variant:"h6",children:"Tidak ada pengumuman."})}):Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(h.a,{my:"25px"}),y.map((function(t){var n=t._id,c=t.is_owner;return Object(a.jsx)(ct,{onBodyClick:function(){e.push("/a/".concat(n))},announcement:t,onDelete:c?Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(n,P()).then((function(e){if(e.ok){O("Berhasil menghapus pengumuman."),C(!0);var t=y.length;return v([]),et(0,t,P()).then((function(e){e.ok?e.json().then((function(e){var t=e.announcements,n=e.count;v(t),N(n>t.length),C(!1)})):C(!1)})),!0}return O("Gagal menghapus pengumuman."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))):null})})),S?M:R?Object(a.jsx)(h.a,{py:"20px",display:"flex",justifyContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){var e=y.length;C(!0),et(e,5,P()).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=y.concat(e.announcements);v(n),N(t>n.length),C(!1)})):C(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})}),Object(a.jsx)(Ke.a,{className:t.fab,color:"primary",size:"small",onClick:function(){s(!0)},children:Object(a.jsx)(ze.a,{})})]}),Object(a.jsx)(Ve.a,{open:l,onClose:function(){s(!1)},fullWidth:!0,children:Object(a.jsx)(Xe,{headerTitle:"Membuat Pengumuman",btnName:{normal:"BUAT",loading:"MEMBUAT..."},handleSubmit:function(){var e=Object(A.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t,n,P()).then((function(e){return e.ok?(O("Berhasil membuat pengumuman."),s(!1),C(!0),et(0,y.length,P()).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=e.announcements;v(n),N(t>n.length),C(!1)})):C(!1)})),v([]),!0):(O("Gagal membuat pengumuman."),!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:u,open:u,autoHideDuration:6e3,onClose:function(){O(null)}},u)]})}var lt=function(e,t,n,a){return E("".concat(k,"b/student/get/").concat(t,"/").concat(n,"/").concat(a),"GET",{token:e})},st=function(e,t,n){return C("".concat(k,"b/student/set/").concat(t),"PUT",{token:e,"Content-Type":"application/json"},{approved:n})},ot=Object(Q.a)((function(e){return{avatar:{height:e.spacing(8),width:e.spacing(8),fontSize:"50px"},greyColor:{color:"grey"}}}));function jt(e){var t=ot(),n=Object(c.useState)(!1),r=Object(d.a)(n,2),i=r[0],l=r[1],s=e.student,o=s.user.pp,j=s.user.fullname;return Object(a.jsxs)(h.a,{component:He.a,elevation:3,p:"10px",my:"10px",display:"flex",width:{xs:"100%",sm:"500px"},children:[Object(a.jsx)(h.a,{my:"auto",mr:"5px",children:Object(a.jsx)(te.a,{className:t.avatar,src:o,children:j.charAt(0)})}),Object(a.jsxs)(h.a,{my:"auto",width:"100%",children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("b",{children:j})}),Object(a.jsx)(x.a,{className:t.greyColor,children:"Murid"})]}),Object(a.jsx)(h.a,{display:"flex",alignContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){l(!0),e.onAcc().then((function(e){e||l(!1)}))},disabled:i,children:i?"MENERIMA...":"TERIMA"})})]})}var ut=Object(Q.a)((function(e){return{avatar:{height:e.spacing(8),width:e.spacing(8),fontSize:"50px"},greyColor:{color:"grey"}}}));function bt(e){var t=e.student,n=t._id,r=t.user.pp,i=t.user.fullname,l=ut(),s=Object(c.useState)(null),o=Object(d.a)(s,2),j=o[0],b=o[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),f=m[0],g=m[1];return Object(a.jsxs)(h.a,{component:He.a,elevation:3,p:"10px",my:"10px",display:"flex",width:{xs:"100%",sm:"500px"},children:[Object(a.jsx)(h.a,{my:"auto",mr:"5px",children:Object(a.jsx)(te.a,{className:l.avatar,src:r,children:i.charAt(0)})}),Object(a.jsxs)(h.a,{my:"auto",width:"100%",children:[Object(a.jsx)(x.a,{children:Object(a.jsx)("b",{children:i})}),Object(a.jsx)(x.a,{className:l.greyColor,children:"Murid"})]}),Object(a.jsxs)(h.a,{children:[Object(a.jsx)(_.a,{size:"small",onClick:function(e){b(e.currentTarget)},children:Object(a.jsx)(nt.a,{size:"small"})}),Object(a.jsxs)(ne.a,{open:j,anchorEl:j,onClose:function(){b(null)},children:[Object(a.jsx)(ae.a,{component:u.b,to:"/s/".concat(n),children:"Lihat Detil"}),Object(a.jsx)(ae.a,{component:p.a,disabled:f,onClick:function(){g(!0),e.onKick().then((function(e){e||g(!1)}))},children:f?"MENENDANG...":"TENDANG"})]})]})]})}function dt(){var e=Object(Y.c)((function(e){return e.loginUser})),t=Object(c.useState)(!0),n=Object(d.a)(t,2),i=n[0],l=n[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),j=o[0],u=o[1],b=Object(c.useState)([]),O=Object(d.a)(b,2),f=O[0],g=O[1],y=Object(c.useState)(!1),v=Object(d.a)(y,2),k=v[0],w=v[1],S=Object(c.useState)([]),C=Object(d.a)(S,2),E=C[0],B=C[1],R=Object(c.useState)(!1),N=Object(d.a)(R,2),M=N[0],D=N[1],U=Object(c.useState)(null),I=Object(d.a)(U,2),G=I[0],H=I[1];Object(c.useEffect)((function(){var e=P();lt(e,0,3,!0).then((function(e){e.ok?e.json().then((function(e){var t=e.students,n=e.count;g(t),w(n>t.length),l(!1)})):l(!1)})),lt(e,0,3,!1).then((function(e){e.ok?e.json().then((function(e){var t=e.students,n=e.count;B(t),D(n>t.length),u(!1)})):l(!1)}))}),[]);for(var _=[],W=0;W<3;W++)_.push(Object(a.jsx)(h.a,{my:"10px",width:{xs:"100%",sm:"500px"},mx:"auto",children:Object(a.jsx)(Re.a,{variant:"rect",height:"60px"})}));return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Manajemen Murid SIPEMA"})}),Object(a.jsxs)(ke,{loginUser:e,children:[Object(a.jsx)(Ce,{icon:Object(a.jsx)(pe.a,{fontSize:"large"}),title:"Manajemen Murid"}),Object(a.jsxs)(h.a,{mt:"50px",children:[Object(a.jsxs)(h.a,{mb:"20px",children:[f.map((function(e,t){var n=e._id,c=e.user.fullname;return Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(a.jsx)(bt,{student:e,onKick:Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(P(),n,!1).then((function(e){if(e.ok){var n=E.length+1;lt(P(),0,n,!1).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=e.students;B(n),D(n.length<t),u(!1)})):u(!1)})),B([]),u(!0);var a=f.slice();return a.splice(t,1),g(a),H("".concat(c," berhasil ditendang.")),!0}return H("Gagal menendang murid."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},n)})})),i?_:f.length<=0?Object(a.jsx)(h.a,{mt:"20px",mb:"50px",children:Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Murid Kosong."})}):null]}),k&&!i?Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",alignContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){var e=f.slice();l(!0),lt(P(),e.length,3,!0).then((function(t){t.ok?t.json().then((function(t){var n=e.concat(t.students);g(n),w(n.length<t.count),l(!1)})):l(!1)}))},children:"MUAT LEBIH BANYAK"})}):null,Object(a.jsx)(h.a,{mt:"50px",children:Object(a.jsx)(x.a,{variant:"h5",gutterBottom:!0,children:"Murid yang Belum Disetujui"})}),Object(a.jsx)(oe.a,{}),Object(a.jsxs)(h.a,{mb:"20px",mt:"10px",children:[E.map((function(e,t){var n=e._id,c=e.user.fullname;return Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",children:Object(a.jsx)(jt,{student:e,onAcc:Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(P(),n,!0).then((function(e){if(e.ok){var n=f.length+1;g([]),l(!0),lt(P(),0,n,!0).then((function(e){e.ok?e.json().then((function(e){var t=e.students,n=e.count;g(t),w(t.length<n),l(!1)})):l(!1)}));var a=E.slice();return a.splice(t,1),B(a),H("".concat(c," diterima menjadi murid.")),!0}return H("Gagal menerima murid"),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},n)})})),j?_:E.length<=0?Object(a.jsx)(h.a,{pb:"50px",mt:"20px",children:Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"Murid yang belum disetujui kosong."})}):null]}),M&&!j?Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",alignContent:"center",pb:"50px",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){var e=E.slice();u(!0),lt(P(),e.length,3,!1).then((function(t){t.ok?t.json().then((function(t){var n=e.concat(t.students);B(n),D(n.length<t.count),u(!1)})):u(!1)}))},children:"MUAT LEBIH BANYAK"})}):null]})]}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:G,open:G,autoHideDuration:6e3,onClose:function(){H(null)}},G)]})}var ht=function(e,t,n){return E("".concat(k,"b/payment/get/all/").concat(t,"/").concat(n),"GET",{token:e})},xt=function(e,t,n,a){return E("".concat(k,"b/payment/get/s/").concat(t,"/").concat(n,"/").concat(a),"GET",{token:e})},Ot=function(e,t,n,a){return C("".concat(k,"b/payment/create/").concat(t),"POST",{token:e,"Content-Type":"application/json"},{amount:n,tanggal:a})},pt=function(e,t,n,a){return C("".concat(k,"b/payment/edit/").concat(t),"PUT",{token:e,"Content-Type":"application/json"},{amount:n,tanggal:a})},mt=Object(Q.a)((function(){return{paymentSum:{backgroundColor:fe.a[100]},greyColor:{color:"grey"},link:{color:"black",textDecoration:"none"}}}));function ft(){for(var e=mt(),t=Object(c.useState)(!0),n=Object(d.a)(t,2),i=n[0],l=n[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),j=o[0],b=o[1],O=Object(c.useState)(0),m=Object(d.a)(O,2),f=m[0],g=m[1],y=Object(c.useState)([]),w=Object(d.a)(y,2),S=w[0],T=w[1],A=Object(c.useState)(!1),C=Object(d.a)(A,2),B=C[0],R=C[1],N=[],M=0;M<5;M++)N.push(Object(a.jsx)(h.a,{mb:"20px",children:Object(a.jsx)(Re.a,{variant:"rect",height:"75px",width:"100%"})}));Object(c.useEffect)((function(){var e;(e=P(),E("".concat(k,"b/payment/get/total"),"GET",{token:e})).then((function(e){e.ok?e.json().then((function(e){g(e.amount),l(!1)})):l(!1)})),ht(P(),0,5).then((function(e){e.ok?e.json().then((function(e){var t=e.payments,n=e.count;R(t.length<n),T(t),b(!1)})):b(!1)}))}),[]);var D=Object(Y.c)((function(e){return e.loginUser}));return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)(ke,{loginUser:D,children:[Object(a.jsx)(Ce,{icon:Object(a.jsx)(me.a,{fontSize:"large"}),title:"Riwayat Pembayaran Murid"}),Object(a.jsx)(h.a,{mt:"20px",mb:"50px",children:Object(a.jsxs)(we.a,{container:!0,direction:"row-reverse",spacing:2,children:[Object(a.jsx)(we.a,{item:!0,xs:12,lg:4,children:Object(a.jsxs)(h.a,{component:He.a,width:"100%",height:"150px",elevation:3,className:e.paymentSum,p:"20px",children:[Object(a.jsx)(x.a,{variant:"h6",gutterButtom:!0,children:"Total:"}),Object(a.jsx)(x.a,{variant:"h6",children:i?"Menghitung...":"Rp".concat(v(f))})]})}),Object(a.jsxs)(we.a,{item:!0,xs:12,lg:8,children:[S.map((function(t){var n=t.student,c=n.fullname,r=n.student_id,i=t._id,l=t.amount,s=t.tanggal;return Object(a.jsxs)(h.a,{component:He.a,elevation:3,p:"15px",mb:"20px",children:[Object(a.jsx)(u.b,{to:"/s/".concat(r,"/pembayaran"),className:e.link,children:Object(a.jsxs)(x.a,{gutterBottom:!0,children:[Object(a.jsx)("b",{children:c}),"\xa0Rp",v(l)]})}),Object(a.jsx)(x.a,{gutterBottom:!0,className:e.greyColor,children:Ae.a.unix(s).format("ll")})]},i)})),j?N:B?Object(a.jsx)(h.a,{display:"flex",justifyContent:"center",onClick:function(){b(!0),ht(P(),S.length,5).then((function(e){e.ok?e.json().then((function(e){var t=S.concat(e.payments),n=e.count;R(n>t.length),T(t),b(!1)})):b(!1)}))},children:Object(a.jsx)(p.a,{color:"primary",children:"Muat Lebih Banyak"})}):null]})]})})]})})}var gt=n(107),yt=n.n(gt),vt=Object(Q.a)((function(e){return console.log(e),{appbar:{backgroundColor:e.palette.background.default,color:e.palette.text.secondary,zIndex:e.zIndex.drawer+1,border:"1px solid ".concat(e.palette.grey[300])},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),kt=function(){var e=vt();return Object(a.jsx)($.a,{className:e.appbar,elevation:0,children:Object(a.jsxs)(Z.a,{className:e.toolbar,children:[Object(a.jsx)(ee.a,{smUp:!0,children:Object(a.jsx)(_.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(yt.a,{})})}),Object(a.jsx)(x.a,{variant:"h6",className:e.title,children:"Dashboard"})]})})},wt=Object(Q.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240,border:"none"},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)},listItem:{cursor:"pointer",color:e.palette.text.secondary,borderTopRightRadius:999,borderBottomRightRadius:999,"&.active":{backgroundColor:e.palette.grey[100],"& p":{fontWeight:"500 !important",color:e.palette.primary.main}},"&:hover":{color:e.palette.primary.main}},listItemTypography:{fontSize:16},list:{paddingTop:16,paddingBottom:16}}})),St=[{text:"Pengumuman",to:"/announcement"},{text:"Riwayat Bacaan",to:"/progress"},{text:"Pembayaran",to:"/payment"}],Tt=function(){var e=wt();return Object(a.jsxs)(je.a,{variant:"permanent",className:e.drawer,classes:{paper:e.drawerPaper},children:[Object(a.jsx)(Z.a,{}),Object(a.jsx)("div",{className:e.drawerContainer,children:Object(a.jsx)(be.a,{disableRipple:!0,className:e.list,children:St.map((function(t,n){return Object(a.jsx)(de.a,{to:t.to,component:u.c,className:e.listItem,children:Object(a.jsx)(x.a,{className:e.listItemTypography,children:t.text})},n)}))})})]})},At=Object(Q.a)((function(e){return{page:{padding:"28px 12px"}}})),Ct=function(e){var t=e.children,n=At();return Object(a.jsx)("div",{className:n.page,children:t})},Et=n(222),Bt=n(86),Rt=function(e){return Object(Bt.a)(e),Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Pembayaran"})},Nt=n(221),Mt=Object(Q.a)((function(e){return{card:{padding:16},title:{marginBottom:"0.75rem"}}})),Pt=function(e){var t=Mt();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x.a,{className:t.title,variant:"h6",gutterBottom:!0,children:"Announcement"}),Object(a.jsx)(Nt.a,{className:t.card,variant:"outlined",children:Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Pengumuman 1"})})]})},Dt=function(e){return Object(Bt.a)(e),Object(a.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Progress"})},Ut=Object(Q.a)((function(e){return{routerWrapper:{marginLeft:"auto",marginRight:"auto",flexGrow:1},mainContainer:{display:"flex"}}})),It=function(){var e=Ut();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(kt,{}),Object(a.jsx)(Z.a,{}),Object(a.jsxs)("div",{className:e.mainContainer,children:[Object(a.jsx)(Tt,{}),Object(a.jsx)(Et.a,{fluid:!0,className:e.routerWrapper,children:Object(a.jsx)(Ct,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/payment",children:Object(a.jsx)(Rt,{})}),Object(a.jsx)(b.b,{path:"/announcement",children:Object(a.jsx)(Pt,{})}),Object(a.jsx)(b.b,{path:"/progress",children:Object(a.jsx)(Dt,{})}),Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(b.a,{to:"/announcement"})})]})})})]})]})},Gt=n(229),Ht=n(223);function _t(){var e=Object(Y.c)((function(e){return e.loginUser})),t=Object(Y.b)(),n=e.fullname,i=e.email,l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),x=b[0],m=b[1],f=r.a.createRef(),g=Object(c.useState)(null),y=Object(d.a)(g,2),v=y[0],w=y[1],S=function(){var a=f.current.value;j(null),a!==n&&(a.length<=0?j("Tidak boleh kosong."):(m(!0),function(e,t){return C("".concat(k,"b/user/profile/set"),"PUT",{"Content-Type":"application/json",token:e},{fullname:t})}(P(),a).then((function(n){n.ok?(e.fullname=a,t(q(e)),w("Berhasil mengedit profil anda.")):w("Gagal mengedit profil anda."),m(!1)}))))};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{mt:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Nama Lengkap",placeholder:"Masukan nama lengkap anda...",defaultValue:n,error:o,helperText:o,inputRef:f,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),S())}})}),Object(a.jsx)(h.a,{mt:"30px",mb:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Email",disabled:!0,value:i})}),Object(a.jsx)(h.a,{display:"flex",mb:"30px",flexDirection:"row-reverse",children:Object(a.jsx)(p.a,{color:"primary",variant:"contained",disabled:x,onClick:S,children:x?"MENGUBAH...":"UBAH"})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:v,open:v,autoHideDuration:6e3,onClose:function(){w(null)}},v)]})}function Wt(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],l=Object(c.useState)(null),s=Object(d.a)(l,2),o=s[0],j=s[1],u=Object(c.useState)(null),b=Object(d.a)(u,2),x=b[0],m=b[1],f=Object(c.useState)(!1),g=Object(d.a)(f,2),y=g[0],v=g[1],w=Object(c.useState)(null),S=Object(d.a)(w,2),T=S[0],A=S[1],E=Object(c.createRef)(),B=Object(c.createRef)(),R=Object(c.createRef)(),N=function(){i(null),m(null),j(null),A(null);var e,t,n,a=E.current.value,c=B.current.value,r=R.current.value;a.length<=0?i("Tidak boleh kosong."):c.length<8?j("Panjang minimal 8 karakter."):c!==r?(j("Harus sama."),m("Harus sama.")):(v(!0),(e=P(),t=a,n=c,C("".concat(k,"b/user/password/set"),"PUT",{"Content-Type":"application/json",token:e},{old_password:t,new_password:n})).then((function(e){e.ok?A("Berhasil mengganti password."):401===e.status?A("Password/token tidak valid."):500===e.status&&A("Terjadi masalah, mohon coba lagi nanti."),v(!1)})))};return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{mt:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Password Lama",placeholder:"Masukan password lama anda...",type:"password",error:n,helperText:n,inputRef:E,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),N())}})}),Object(a.jsx)(h.a,{mt:"30px",mb:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Password Baru",placeholder:"Masukan password baru anda...",type:"password",inputRef:B,error:o,helperText:o,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),N())}})}),Object(a.jsx)(h.a,{mt:"30px",mb:"50px",children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Ulangi Password Baru",placeholder:"Masukan ulang password baru anda...",type:"password",inputRef:R,error:x,helperText:x,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),N())}})}),Object(a.jsx)(h.a,{display:"flex",mb:"30px",flexDirection:"row-reverse",children:Object(a.jsx)(p.a,{color:"primary",variant:"contained",disabled:y,onClick:N,children:y?"MENGUBAH...":"UBAH"})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:T,open:T,autoHideDuration:6e3,onClose:function(){A(null)}},T)]})}var Ft=Object(Q.a)((function(e){return{pp:{height:e.spacing(15),width:e.spacing(15),fontSize:"80px"},inputContainer:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},photoSizeDesc:{backgroundColor:fe.a[100]},editProfileHeader:{backgroundColor:fe.a[100]}}}));function Lt(){var e=Ft(),t=Object(Y.c)((function(e){return e.loginUser})),n=Object(Y.b)(),i=Object(c.useState)(!1),l=Object(d.a)(i,2),s=l[0],o=l[1],j=Object(c.useState)(null),O=Object(d.a)(j,2),f=O[0],g=O[1],y=t.fullname,v=t.role,w=t.pp,S=t.created,T=Object(c.useState)(window.location.pathname),A=Object(d.a)(T,2),C=A[0],B=A[1];return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"Profil SIPEMA"})}),Object(a.jsx)(ke,{loginUser:t,children:Object(a.jsxs)(we.a,{container:!0,direction:"row-reverse",spacing:2,children:[Object(a.jsx)(we.a,{item:!0,xs:12,lg:4,children:Object(a.jsxs)(h.a,{component:He.a,p:"20px",children:[Object(a.jsx)(x.a,{variant:"h4",gutterBottom:!0,align:"center",children:y}),Object(a.jsx)(x.a,{gutterBottom:!0,align:"center",children:"teacher"===v?"Guru":"Murid"}),Object(a.jsx)(h.a,{display:"flex",width:"100%",my:"20px",children:Object(a.jsx)(h.a,{mx:"auto",children:s?Object(a.jsx)(Re.a,{height:"120px",width:"120px",variant:"circle"}):Object(a.jsx)(te.a,{src:w,className:e.pp,children:y.charAt(0)})})}),Object(a.jsx)(h.a,{display:"flex",width:"100%",mb:"20px",children:Object(a.jsxs)(h.a,{mx:"auto",className:e.inputContainer,children:[Object(a.jsx)("input",{accept:"image/*",className:e.input,type:"file",id:"contained-button-file",onChange:function(e){var a=e.target.files[0];(a.size/1024/1024).toFixed(4)>=10?g("Ukuran foto tidak boleh melebihi 10 MB."):(o(!0),function(e,t){var n=new FormData;return n.append("photo",t),E("".concat(k,"b/user/profile/picture/set"),"PUT",{token:e},n)}(P(),a).then((function(e){e.ok?e.json().then((function(e){t.pp=e.pp,n(q(t)),o(!1),g("Berhasil mengganti foto profil.")})):(o(!1),g("Gagal mengganti foto profil."))})))}}),Object(a.jsx)("label",{htmlFor:"contained-button-file",children:Object(a.jsx)(p.a,{variant:"contained",color:"primary",component:"span",children:"GANTI FOTO PROFIL"})})]})}),Object(a.jsx)(h.a,{p:"10px",className:e.photoSizeDesc,mb:"20px",children:Object(a.jsxs)(x.a,{align:"center",children:["Ukuran foto maksimum: ",Object(a.jsx)("b",{children:"10 MB"})]})}),Object(a.jsx)(h.a,{mb:"20px",children:Object(a.jsxs)(x.a,{children:["Bergabung pada: ",Object(a.jsx)("b",{children:Ae.a.unix(S).format("llll")})]})})]})}),Object(a.jsx)(we.a,{item:!0,xs:12,lg:8,children:Object(a.jsxs)(h.a,{component:He.a,children:[Object(a.jsxs)(h.a,{px:"20px",className:e.editProfileHeader,children:[Object(a.jsx)(h.a,{py:"40px",children:Object(a.jsx)(x.a,{variant:"h4",children:"Edit Profil"})}),Object(a.jsxs)(Gt.a,{indicatorColor:"primary",value:C,onChange:function(e,t){B(t)},children:[Object(a.jsx)(Ht.a,{label:"Umum",component:u.b,to:"/profile",value:"/profile"}),Object(a.jsx)(Ht.a,{label:"Ganti Password",component:u.b,to:"/profile/password",value:"/profile/password"})]})]}),Object(a.jsx)(h.a,{p:"20px",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/profile/password",children:Object(a.jsx)(Wt,{})}),Object(a.jsx)(b.b,{path:"/profile",children:Object(a.jsx)(_t,{})})]})})]})})]})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:f,open:f,autoHideDuration:6e3,onClose:function(){g(null)}},f)]})}var zt=n(108),Kt=Object(Q.a)((function(e){return{avatar:{height:e.spacing(5),width:e.spacing(5),marginRight:"10px",marginTop:"auto",marginBottom:"auto"}}}));function Vt(e){for(var t=Kt(),n=e.paragraphsCount,r=Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Re.a,{width:"100%"}),Object(a.jsx)(Re.a,{width:"100%"}),Object(a.jsx)(Re.a,{width:"100%"}),Object(a.jsx)(Re.a,{width:"100%"}),Object(a.jsx)(Re.a,{width:"80%"}),Object(a.jsx)(h.a,{mb:"32px"})]}),i=[],l=0;l<n;l++)i.push(r);return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsx)(Re.a,{variant:"circle",className:t.avatar}),Object(a.jsxs)(h.a,{my:"auto",children:[Object(a.jsx)(Re.a,{width:"150px"}),Object(a.jsx)(Re.a,{width:"100px"})]})]}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(oe.a,{})}),Object(a.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(a.jsx)(h.a,{mx:"auto",mb:"40px",children:Object(a.jsx)(Re.a,{width:"200px",height:"32px"})}),i]})]})}var Yt=Object(Q.a)((function(e){return{avatar:{height:e.spacing(5),width:e.spacing(5),marginRight:"10px",marginTop:"auto",marginBottom:"auto"},greyColor:{color:"grey"}}}));function qt(){var e=Yt(),t=Object(b.h)().announcementId,n=Object(Y.c)((function(e){return e.loginUser})),r=Object(c.useState)(null),i=Object(d.a)(r,2),l=i[0],s=i[1],o=Object(c.useState)("Pengumuman"),j=Object(d.a)(o,2),u=j[0],O=j[1],f=Object(c.useState)(!0),g=Object(d.a)(f,2),v=g[0],w=g[1],S=Object(c.useState)(null),C=Object(d.a)(S,2),B=C[0],R=C[1],N=Object(c.useState)(!1),M=Object(d.a)(N,2),D=M[0],U=M[1],I=Object(c.useState)(null),G=Object(d.a)(I,2),H=G[0],W=G[1],F=Object(c.useState)(!1),L=Object(d.a)(F,2),z=L[0],K=L[1],V=Object(a.jsx)(h.a,{minHeight:"70vh",display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(x.a,{variant:"h5",children:"Pengumuman tidak ditemukan."})}),q=null;if(l){var J=l.teacher,X=J.pp,Q=J.fullname,$=l.created,Z=l.title,ee=l.body,re=l.is_owner;q=Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",children:[Object(a.jsxs)(h.a,{display:"flex",width:"90%",children:[Object(a.jsx)(te.a,{src:X,className:e.avatar,children:Q.charAt(0)}),Object(a.jsxs)(h.a,{my:"auto",children:[Object(a.jsx)(x.a,{variant:"h6",children:Q}),Object(a.jsx)(x.a,{className:e.greyColor,children:Ae.a.unix($).format("llll")})]})]}),re?Object(a.jsxs)(h.a,{display:"flex",width:"10%",flexDirection:"row-reverse",children:[Object(a.jsx)(h.a,{my:"auto",children:Object(a.jsx)(_.a,{size:"small",onClick:function(e){R(e.currentTarget)},children:Object(a.jsx)(nt.a,{})})}),Object(a.jsxs)(ne.a,{open:B,anchorEl:B,onClose:function(){R(null)},children:[Object(a.jsx)(ae.a,{component:p.a,onClick:function(){K(!0),R(null)},children:"EDIT"}),Object(a.jsx)(ae.a,{component:p.a,disabled:D,onClick:function(){U(!0),Ze(t,P()).then((function(e){e.ok?(s(null),W("Berhasil menghapus pengumuman")):(W("Gagal menghapus pengumuman"),U(!1))}))},children:D?"MENGHAPUS...":"HAPUS"})]})]}):null]}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(oe.a,{})}),Object(a.jsxs)(h.a,{display:"flex",flexDirection:"column",mb:"50px",children:[Object(a.jsx)(h.a,{mb:"40px",children:Object(a.jsx)(x.a,{variant:"h5",align:"center",children:Z})}),Object(a.jsx)(x.a,{align:"justify",children:y(ee)})]}),Object(a.jsx)(Ve.a,{open:z,onClose:function(){K(!1)},fullWidth:!0,children:Object(a.jsx)(Xe,{defaultTitle:l.title,defaultBody:l.body,headerTitle:"Mengedit Pengumuman",btnName:{normal:"EDIT",loading:"MENGEDIT..."},handleSubmit:function(){var e=Object(A.a)(T.a.mark((function e(n,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(t,n,a,P()).then((function(e){if(e.ok){W("Berhasil mengedit pengumuman."),K(!1);var t=Object(zt.a)({},l);return t.title=n,t.body=a,s(t),!0}return W("Gagal mengedit pengumuman."),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})})]})}return Object(c.useEffect)((function(){(function(e,t){return E("".concat(k,"b/announcement/detail/").concat(e),"GET",{token:t})})(t,P()).then((function(e){e.ok?e.json().then((function(e){s(e),O(e.title),w(!1)})):w(!1)}))}),[t]),Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:u})}),Object(a.jsx)(ke,{loginUser:n,children:v?Object(a.jsx)(Vt,{paragraphsCount:3}):l?q:V}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:H,open:H,autoHideDuration:6e3,onClose:function(){W(null)}},H)]})}function Jt(e){for(var t=e.number,n=[],r=0;r<t;r++)n.push(Object(a.jsx)(h.a,{mb:"20px",children:Object(a.jsx)(Re.a,{width:"100%",height:"75px",variant:"rect"})}));return Object(a.jsx)(c.Fragment,{children:n})}var Xt=Object(Q.a)((function(e){return{header:{backgroundColor:fe.a[100]},avatar:{height:e.spacing(10),width:e.spacing(10)}}}));function Qt(e){var t=Xt(),n=e.tabs,c=window.location.pathname,r=e.number;return Object(a.jsxs)(h.a,{component:He.a,elevation:3,overflow:"hidden",children:[Object(a.jsx)(h.a,{pt:"20px",px:"20px",display:"flex",width:"100%",className:t.header,mb:"20px",flexDirection:"column",children:Object(a.jsxs)(h.a,{mx:"auto",display:"flex",flexDirection:"column",children:[Object(a.jsx)(h.a,{mb:"20px",mx:"auto",children:Object(a.jsx)(Re.a,{variant:"circle",className:t.avatar})}),Object(a.jsx)(h.a,{mx:"auto",mb:"10px",children:Object(a.jsx)(Re.a,{width:"200px",height:"32px"})}),Object(a.jsx)(h.a,{mx:"auto",mb:"10px",children:Object(a.jsx)(Re.a,{width:"160px",height:"24px"})}),Object(a.jsx)(h.a,{mx:"auto",mb:"10px",children:Object(a.jsx)(Re.a,{width:"100px",height:"24px"})}),Object(a.jsx)(h.a,{mx:"auto",mb:"10px",children:Object(a.jsx)(Re.a,{width:"280px",height:"24px"})}),Object(a.jsx)(Gt.a,{value:c,indicatorColor:"primary",centered:!0,children:n.map((function(e){return Object(a.jsx)(Ht.a,{label:e.label,value:e.url,component:u.b,to:e.url})}))})]})}),Object(a.jsx)(h.a,{px:{lg:"25%"},children:Object(a.jsx)(Jt,{number:r})})]})}var $t=Object(Q.a)((function(e){return{header:{backgroundColor:fe.a[100]},avatar:{height:e.spacing(10),width:e.spacing(10)}}}));function Zt(e){var t=$t(),n=e.student,c=n.fullname,r=n.email,i=n.created,l=n.pp,s=e.tabs,o=window.location.pathname;return Object(a.jsxs)(h.a,{component:He.a,elevation:3,overflow:"hidden",mb:"20px",children:[Object(a.jsx)(h.a,{pt:"20px",px:"20px",display:"flex",width:"100%",className:t.header,mb:"20px",flexDirection:"column",children:Object(a.jsxs)(h.a,{mx:"auto",display:"flex",flexDirection:"column",children:[Object(a.jsx)(h.a,{mb:"20px",mx:"auto",children:Object(a.jsx)(te.a,{src:l,className:t.avatar,children:c.charAt(0)})}),Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:c}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:r}),Object(a.jsx)(x.a,{align:"center",gutterBottom:!0,children:"Murid"}),Object(a.jsxs)(x.a,{align:"center",gutterBottom:!0,children:["Bergabung pada ",Object(a.jsx)("b",{children:Ae.a.unix(i).format("llll")})]}),Object(a.jsx)(Gt.a,{value:o,indicatorColor:"primary",centered:!0,children:s.map((function(e){return Object(a.jsx)(Ht.a,{label:e.label,value:e.url,component:u.b,to:e.url})}))})]})}),Object(a.jsx)(h.a,{px:{lg:"25%"},children:e.children})]})}function en(e){var t=e.headerTitle,n=e.defaultAmount,r=e.defaultDate,i=e.onSubmit,l=e.btnTitle,s=Object(c.createRef)(),o=Object(c.createRef)(),j=Object(c.useState)(null),u=Object(d.a)(j,2),b=u[0],m=u[1],f=Object(c.useState)(null),g=Object(d.a)(f,2),y=g[0],v=g[1],k=Object(c.useState)(!1),w=Object(d.a)(k,2),S=w[0],T=w[1],A=function(){var e=s.current.value,t=o.current.value;if(m(null),v(null),e.length<=0)m("Tidak boleh kosong");else if(Number(e)<=0)m("Tidak boleh di bawah 0");else if(t.length<=0)v("Tidak boleh kosong");else{T(!0);var n=Ae()(t).unix();i(e,n).then((function(e){e||T(!1)}))}};return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Ye.a,{children:t}),Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(O.a,{inputRef:s,error:b,helperText:b,label:"Nominal",placeholder:"Masukan nominal...",defaultValue:n,type:"number",fullWidth:!0,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),A())}}),Object(a.jsx)(h.a,{my:"40px"}),Object(a.jsx)(x.a,{gutterBottom:!0,children:"Tanggal Pembayaran:"}),Object(a.jsx)(O.a,{inputRef:o,error:y,helperText:y,defaultValue:Ae.a.unix(r).format("YYYY-MM-DD"),type:"date",fullWidth:!0})]}),Object(a.jsx)(Je.a,{children:Object(a.jsx)(p.a,{color:"primary",onClick:A,disabled:S,children:S?l.loading:l.normal})})]})}function tn(e){var t=Object(c.useState)(e.tanggal),n=Object(d.a)(t,2),r=n[0],i=n[1],l=Object(c.useState)(e.amount),s=Object(d.a)(l,2),o=s[0],j=s[1],u=e.onDelete,b=e.onEdit,O=Object(c.useState)(null),m=Object(d.a)(O,2),f=m[0],g=m[1],y=Object(c.useState)(!1),k=Object(d.a)(y,2),w=k[0],S=k[1],C=Object(c.useState)(!1),E=Object(d.a)(C,2),B=E[0],R=E[1];return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{component:He.a,py:"20px",px:"5px",display:"flex",variant:"outlined",square:!0,children:[Object(a.jsxs)(h.a,{flex:1,children:[Object(a.jsx)(x.a,{gutterBottom:!0,children:Object(a.jsx)("b",{children:Ae.a.unix(r).format("ll")})}),Object(a.jsx)(x.a,{gutterBottom:!0,children:Object(a.jsxs)("b",{children:["Rp",v(o)]})})]}),u&&b?Object(a.jsxs)(h.a,{children:[Object(a.jsx)(_.a,{onClick:function(e){g(e.currentTarget)},size:"small",children:Object(a.jsx)(nt.a,{})}),Object(a.jsxs)(ne.a,{open:f,anchorEl:f,onClose:function(){g(null)},children:[Object(a.jsx)(ae.a,{onClick:function(){g(null),R(!0)},children:"Edit"}),Object(a.jsx)(ae.a,{component:p.a,onClick:function(){S(!0),u().then((function(e){e||S(!1)}))},disabled:w,children:w?"MENGHAPUS...":"HAPUS"})]})]}):null]}),Object(a.jsx)(Ve.a,{open:B,onClose:function(){R(!1)},fullWidth:!0,children:Object(a.jsx)(en,{headerTitle:"Edit Riwayat Pembayaran Murid",btnTitle:{normal:"EDIT",loading:"MENGEDIT..."},onSubmit:function(){var e=Object(A.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,n).then((function(e){return!!e&&(j(t),i(n),R(!1),!0)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),defaultAmount:o,defaultDate:r})})]})}var nn=Object(Q.a)((function(e){var t;return{fab:(t={position:"fixed"},Object(Le.a)(t,e.breakpoints.up("xs"),{right:e.spacing(1),bottom:e.spacing(1)}),Object(Le.a)(t,e.breakpoints.up("xs"),{right:e.spacing(2),bottom:e.spacing(2)}),t)}}));function an(){for(var e=nn(),t=Object(b.h)().studentId,n=Object(c.useState)(!0),r=Object(d.a)(n,2),i=r[0],l=r[1],s=Object(c.useState)([]),o=Object(d.a)(s,2),j=o[0],u=o[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),f=m[0],g=m[1],y=Object(c.useState)(!1),v=Object(d.a)(y,2),w=v[0],S=v[1],C=Object(c.useState)(null),B=Object(d.a)(C,2),R=B[0],N=B[1],M=[],D=0;D<5;D++)M.push(Object(a.jsx)(h.a,{mb:"20px",children:Object(a.jsx)(Re.a,{variant:"rect",height:"80px",width:"100%"})}));return Object(c.useEffect)((function(){xt(P(),t,0,5).then((function(e){e.ok?e.json().then((function(e){var t=e.payments,n=e.count;g(t.length<n),u(t),l(!1)})):l(!1)}))}),[t]),Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",flexDirection:"column",width:"100%",minHeight:"50vh",children:[j.map((function(e){var n=e._id,c=e.amount,r=e.tanggal;return Object(a.jsx)(h.a,{mb:"10px",children:Object(a.jsx)(tn,{amount:c,tanggal:r,onDelete:Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(a=P(),c=n,E("".concat(k,"b/payment/delete/").concat(c),"DELETE",{token:a})).then((function(e){return e.ok?(N("Berhasil menghapus."),l(!0),xt(P(),t,0,j.length+1).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=e.payments;g(n.length<t),u(n),l(!1)})):l(!1)})),u([]),!0):(N("Gagal menghapus."),!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}var a,c}),e)}))),onEdit:function(){var e=Object(A.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(P(),n,t,a).then((function(e){return e.ok?(N("Berhasil mengedit"),!0):(N("Gagal mengedit"),!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},n)})})),i?M:f?Object(a.jsx)(h.a,{width:"100%",py:"20px",display:"flex",alignContent:"center",justifyContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){l(!0),xt(P(),t,j.length,5).then((function(e){e.ok?e.json().then((function(e){var t=j.slice().concat(e.payments),n=e.count;g(t.length<n),u(t),l(!1)})):l(!1)}))},children:"MUAT LEBIH BANYAK"})}):j.length<=0?Object(a.jsx)(h.a,{m:"auto",children:Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:"KOSONG"})}):null]}),Object(a.jsx)(Ke.a,{color:"primary",size:"small",className:e.fab,onClick:function(){S(!0)},children:Object(a.jsx)(ze.a,{})}),Object(a.jsx)(Ve.a,{open:w,onClose:function(){S(!1)},fullWidth:!0,children:Object(a.jsx)(en,{headerTitle:"Tambah Riwayat Pembayaran Murid",btnTitle:{normal:"BUAT",loading:"MEMBUAT..."},onSubmit:function(){var e=Object(A.a)(T.a.mark((function e(n,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(P(),t,n,a).then((function(e){if(e.ok){S(!1),l(!0),u([]),N("Berhasil membuat pembayaran");var n=j.length+1;return xt(P(),t,0,n).then((function(e){e.ok?e.json().then((function(e){var t=e.payments,n=e.count;g(t.length<n),u(t),l(!1)})):l(!1)})),!0}return N("Gagal membuat pembayaran"),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:R,open:R,autoHideDuration:3e3,onClose:function(){N(null)}},R)]})}var cn=function(e,t,n,a){return E("".concat(k,"b/progress/get/s/").concat(t,"/").concat(n,"/").concat(a),"GET",{token:e})},rn=function(e,t,n){return C("".concat(k,"b/progress/create/s/").concat(t),"POST",{token:e,"Content-Type":"application/json"},n)},ln=n(238),sn=n(231),on=1,jn=0;function un(e){var t=e.halAwalDefaultValue,n=e.halAkhirDefaultValue,c=e.halAwalRef,r=e.halAkhirRef,i=e.halAwalErr,l=e.halAkhirErr,s=e.disabled;return Object(a.jsxs)(we.a,{container:!0,spacing:2,children:[Object(a.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Halaman Awal",error:i,helperText:i,inputRef:c,defaultValue:t||0,type:"number",disabled:s})}),Object(a.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(O.a,{fullWidth:!0,label:"Halaman Akhir",error:l,helperText:l,inputRef:r,defaultValue:n||0,type:"number",disabled:s})})]})}var bn=Object(Q.a)((function(){return{greyColor:{color:"grey"}}}));function dn(e){var t=bn(),n=e.text;return Object(a.jsxs)(h.a,{display:"flex",alignContent:"center",children:[Object(a.jsx)(h.a,{flex:1,my:"auto",children:Object(a.jsx)(oe.a,{})}),Object(a.jsx)(h.a,{mx:"5px",children:Object(a.jsx)(x.a,{className:t.greyColor,children:n})}),Object(a.jsx)(h.a,{flex:1,my:"auto",children:Object(a.jsx)(oe.a,{})})]})}function hn(e){var t=e.disabled,n=e.defaultSuratAwal,r=e.defaultSuratAkhir,i=e.defaultAyatAwal,l=e.defaultAyatAkhir,s=e.suratAwalErr,o=e.suratAwalErr,j=e.ayatAwalErr,u=e.ayatAkhirErr,b=e.suratAwalRef,d=e.suratAkhirRef,x=e.ayatAwalRef,p=e.ayatAkhirRef;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(dn,{text:"Awal"})}),Object(a.jsxs)(we.a,{container:!0,spacing:2,children:[Object(a.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(O.a,{label:"Surat",placeholder:"Masukan surat awal...",inputRef:b,error:s,helperText:s,disabled:t,defaultValue:n,fullWidth:!0})}),Object(a.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(O.a,{label:"Ayat",placeholder:"Masukan ayat awal...",inputRef:x,error:j,helperText:j,disabled:t,defaultValue:i||0,fullWidth:!0})})]}),Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(dn,{text:"Akhir"})}),Object(a.jsxs)(we.a,{container:!0,spacing:2,children:[Object(a.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(O.a,{label:"Surat",placeholder:"Masukan surat akhir...",inputRef:d,error:o,helperText:o,disabled:t,defaultValue:r,fullWidth:!0})}),Object(a.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(O.a,{label:"Ayat",placeholder:"Masukan ayat akhir...",inputRef:p,error:u,helperText:u,disabled:t,defaultValue:l||0,fullWidth:!0})})]})]})}function xn(e){var t=e.headerTitle,n=e.btnTitle,r=e.onSubmit,i=e.defaultType,l=e.defaultHalAwal,s=e.defaultHalAkhir,o=e.defaultSuratAwal,j=e.defaultSuratAkhir,u=e.defaultAyatAwal,b=e.defaultAyatAkhir,x=e.defaultComment,m=e.defaultTanggal,f=Object(c.createRef)(),g=Object(c.createRef)(),y=Object(c.createRef)(),v=Object(c.createRef)(),k=Object(c.createRef)(),w=Object(c.createRef)(),S=Object(c.createRef)(),T=Object(c.createRef)(),A=Object(c.useState)(!1),C=Object(d.a)(A,2),E=C[0],B=C[1],R=Object(c.useState)(i||jn),N=Object(d.a)(R,2),M=N[0],P=N[1],D=Object(c.useState)(null),U=Object(d.a)(D,2),I=U[0],G=U[1],H=Object(c.useState)(null),_=Object(d.a)(H,2),W=_[0],F=_[1],L=Object(c.useState)(null),z=Object(d.a)(L,2),K=z[0],V=z[1],Y=Object(c.useState)(null),q=Object(d.a)(Y,2),J=q[0],X=q[1],Q=Object(c.useState)(null),$=Object(d.a)(Q,2),Z=$[0],ee=$[1],te=Object(c.useState)(null),ne=Object(d.a)(te,2),ce=ne[0],re=ne[1],ie=Object(c.useState)(null),le=Object(d.a)(ie,2),se=le[0],oe=le[1];return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Ye.a,{children:t}),Object(a.jsxs)(qe.a,{children:[Object(a.jsxs)(h.a,{mb:"20px",width:{xs:"100%",sm:"50%"},children:[Object(a.jsx)(ln.a,{id:"type",children:"Tipe"}),Object(a.jsxs)(sn.a,{value:M,onChange:function(e){P(e.target.value)},fullWidth:!0,id:"type",disabled:E,children:[Object(a.jsx)(ae.a,{value:jn,children:"Iqra"}),Object(a.jsx)(ae.a,{value:on,children:"Quran"})]})]}),M===jn?Object(a.jsx)(un,{halAwalDefaultValue:l,halAkhirDefaultValue:s,halAwalRef:f,halAkhirRef:g,halAwalErr:I,halAkhirErr:W,disabled:E}):M===on?Object(a.jsx)(hn,{disabled:E,defaultSuratAwal:o,defaultSuratAkhir:j,defaultAyatAwal:u,defaultAyatAkhir:b,suratAwalErr:K,suratAkhirErr:J,ayatAwalErr:Z,ayatAkhirErr:ce,suratAwalRef:y,suratAkhirRef:v,ayatAwalRef:k,ayatAkhirRef:w}):null,Object(a.jsx)(h.a,{my:"20px",children:Object(a.jsx)(O.a,{inputRef:S,defaultValue:x,label:"Komentar",placeholder:"Beri komentar atas bacaan murid anda...",fullWidth:!0,multiline:!0,disabled:E})}),Object(a.jsxs)(h.a,{my:"20px",children:[Object(a.jsx)(ln.a,{id:"type",children:"Tanggal Baca"}),Object(a.jsx)(O.a,{inputRef:T,defaultValue:Ae.a.unix(m).format("YYYY-MM-DD"),error:se,helperText:se,fullWidth:!0,type:"date",id:"tanggal",disabled:E})]})]}),Object(a.jsx)(Je.a,{children:Object(a.jsx)(p.a,{color:"primary",disabled:E,onClick:function(){G(null),F(null),V(null),X(null),ee(null),re(null),oe(null);var e=void 0,t=void 0,n=void 0,a=void 0,c=void 0,i=void 0,l=S.current.value,s=T.current.value,o=!1;if(M===jn){e=f.current.value,t=g.current.value;var j=Number(e),u=Number(t);e.length<=0&&(G("Tidak boleh kosong"),o=!0),t.length<=0&&(F("Tidak boleh kosong"),o=!0),j<0&&(G("Tidak boleh negatif"),o=!0),u<0&&(F("Tidak boleh negatif"),o=!0),j>u&&(G("Tidak boleh lebih besar daripada halaman akhir"),F("Tidak boleh lebih kecil daripada halaman awal"),o=!0)}else{n=y.current.value,a=v.current.value,c=k.current.value,i=w.current.value;var b=Number(c),d=Number(i);c.length<=0&&(ee("Tidak boleh kosong"),o=!0),i.length<=0&&(re("Tidak boleh kosong"),o=!0),n.length<=0&&(V("Tidak boleh kosong"),o=!0),a.length<=0&&(X("Tidak boleh kosong"),o=!0),b<0&&(ee("Tidak boleh negatif"),o=!0),d<0&&(re("Tidak boleh negatif"),o=!0)}if(s.length<=0&&(oe("Tidak boleh kosong"),o=!0),!o){var h=Ae()(s).unix();B(!0),r(M,e,t,n,a,c,i,l,h).then((function(e){e||B(!1)}))}},children:E?n.loading:n.normal})})]})}var On=n(236),pn=n(224),mn=n(225),fn=Object(Q.a)((function(){return{summary:{backgroundColor:fe.a[50]}}}));function gn(e){var t=fn(),n=Object(c.useState)(e.tanggal),r=Object(d.a)(n,2),i=r[0],l=r[1],s=Object(c.useState)(e.tipe),o=Object(d.a)(s,2),j=o[0],u=o[1],b=Object(c.useState)(e.halAwal),O=Object(d.a)(b,2),m=O[0],f=O[1],g=Object(c.useState)(e.halAkhir),v=Object(d.a)(g,2),k=v[0],w=v[1],S=Object(c.useState)(e.suratAwal),C=Object(d.a)(S,2),E=C[0],B=C[1],R=Object(c.useState)(e.suratAkhir),N=Object(d.a)(R,2),M=N[0],P=N[1],D=Object(c.useState)(e.ayatAwal),U=Object(d.a)(D,2),I=U[0],G=U[1],H=Object(c.useState)(e.ayatAkhir),W=Object(d.a)(H,2),F=W[0],L=W[1],z=Object(c.useState)(e.comment),K=Object(d.a)(z,2),V=K[0],Y=K[1],q=e.onDelete,J=e.onEdit,X=Object(c.useState)(!1),Q=Object(d.a)(X,2),$=Q[0],Z=Q[1],ee=Object(c.useState)(null),te=Object(d.a)(ee,2),ce=te[0],re=te[1],ie=Object(c.useState)(!1),le=Object(d.a)(ie,2),se=le[0],oe=le[1];return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(On.a,{square:!0,variant:"outlined",children:[Object(a.jsxs)(pn.a,{className:t.summary,children:[Object(a.jsx)(h.a,{flex:1,children:Object(a.jsx)(x.a,{children:Ae.a.unix(i).format("ll")})}),q&&J?Object(a.jsxs)(h.a,{children:[Object(a.jsx)(_.a,{size:"small",onClick:function(e){e.stopPropagation(),re(e.currentTarget)},children:Object(a.jsx)(nt.a,{})}),Object(a.jsxs)(ne.a,{anchorEl:ce,open:ce,onClose:function(e){e.stopPropagation(),re(null)},onClick:function(e){e.stopPropagation()},children:[Object(a.jsx)(ae.a,{onClick:function(){Z(!0),re(null)},children:"Edit"}),Object(a.jsx)(ae.a,{component:p.a,disabled:se,onClick:function(){oe(!0),q().then((function(e){e||oe(!1)}))},children:se?"MENGHAPUS...":"HAPUS"})]})]}):null]}),Object(a.jsx)(mn.a,{children:Object(a.jsxs)(h.a,{children:[Object(a.jsx)(x.a,{gutterBottom:!0,children:j===jn?"Iqra, ".concat(m," - ").concat(k):"Quran, ".concat(E,"(").concat(I,") - ").concat(M,"(").concat(F,")")}),Object(a.jsx)(x.a,{children:"Komentar:"}),Object(a.jsx)(x.a,{children:V?y(V):"Tidak ada komentar."})]})})]}),Object(a.jsx)(Ve.a,{open:$,onClose:function(){Z(!1)},children:Object(a.jsx)(xn,{headerTitle:"Edit Riwayat Bacaan",btnTitle:{normal:"EDIT",loading:"MENGEDIT..."},onSubmit:function(){var e=Object(A.a)(T.a.mark((function e(t,n,a,c,r,i,s,o,j){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,n,a,c,r,i,s,o,j).then((function(e){return!!e&&(u(t),f(n),w(a),B(c),P(r),G(i),L(s),Y(o),l(j),Z(!1),!0)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,i,l,s,o){return e.apply(this,arguments)}}(),defaultType:j,defaultHalAwal:m,defaultHalAkhir:k,defaultSuratAwal:E,defaultSuratAkhir:M,defaultAyatAwal:I,defaultAyatAkhir:F,defaultComment:V,defaultTanggal:i})})]})}var yn=Object(Q.a)((function(e){var t;return{fab:(t={position:"fixed"},Object(Le.a)(t,e.breakpoints.up("xs"),{right:e.spacing(1),bottom:e.spacing(1)}),Object(Le.a)(t,e.breakpoints.up("xs"),{right:e.spacing(2),bottom:e.spacing(2)}),t)}}));function vn(){for(var e=yn(),t=Object(b.h)().studentId,n=Object(c.useState)(!0),r=Object(d.a)(n,2),i=r[0],l=r[1],s=Object(c.useState)([]),o=Object(d.a)(s,2),j=o[0],u=o[1],O=Object(c.useState)(!1),m=Object(d.a)(O,2),f=m[0],g=m[1],y=Object(c.useState)(!1),v=Object(d.a)(y,2),w=v[0],S=v[1],E=Object(c.useState)(null),B=Object(d.a)(E,2),R=B[0],N=B[1],M=[],D=0;D<5;D++)M.push(Object(a.jsx)(h.a,{mb:"20px",children:Object(a.jsx)(Re.a,{variant:"rect",height:"80px",width:"100%"})}));return Object(c.useEffect)((function(){cn(P(),t,0,5).then((function(e){e.ok?e.json().then((function(e){var t=e.progresses,n=e.count;g(t.length<n),u(t),l(!1)})):l(!1)}))}),[t]),Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(h.a,{display:"flex",flexDirection:"column",width:"100%",minHeight:"50vh",children:[j.map((function(e){var n=e._id,c=e.hal_awal,r=e.hal_akhir,i=e.surat_awal,s=e.surat_akhir,o=e.ayat_awal,b=e.ayat_akhir,d=e.comment,x=e.tanggal,O=e.type;return Object(a.jsx)(h.a,{mb:"10px",children:Object(a.jsx)(gn,{halAwal:c,halAkhir:r,suratAwal:i,suratAkhir:s,ayatAwal:o,ayatAkhir:b,comment:d,tanggal:x,tipe:O,onDelete:Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(a=P(),c=n,C("".concat(k,"b/progress/delete/").concat(c),"DELETE",{token:a})).then((function(e){if(e.ok){var n=j.length;return N("Berhasil menghapus"),l(!0),u([]),cn(P(),t,0,n).then((function(e){e.ok?e.json().then((function(e){var t=e.progresses,n=e.count;g(t.length<n),u(t),l(!1)})):l(!1)})),!0}return N("Gagal menghapus"),!1})));case 1:case"end":return e.stop()}var a,c}),e)}))),onEdit:function(){var e=Object(A.a)(T.a.mark((function e(t,a,c,r,i,l,s,o,j){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(u=P(),b=n,d={type:t,hal_awal:a,hal_akhir:c,surat_awal:r,surat_akhir:i,ayat_awal:l,ayat_akhir:s,comment:o,tanggal:j},C("".concat(k,"b/progress/edit/").concat(b),"PUT",{token:u,"Content-Type":"application/json"},d)).then((function(e){return e.ok?(N("Berhasil mengedit riwayat bacaan"),!0):(N("Gagal mengedit riwayat bacaan"),!1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}var u,b,d}),e)})));return function(t,n,a,c,r,i,l,s,o){return e.apply(this,arguments)}}()},n)})})),i?M:f?Object(a.jsx)(h.a,{width:"100%",py:"20px",display:"flex",alignContent:"center",justifyContent:"center",children:Object(a.jsx)(p.a,{color:"primary",onClick:function(){l(!0),cn(P(),t,j.length,5).then((function(e){e.ok?e.json().then((function(e){var t=j.slice().concat(e.progresses),n=e.count;g(t.length<n),u(t),l(!1)})):l(!1)}))},children:"MUAT LEBIH BANYAK"})}):j.length<=0?Object(a.jsx)(h.a,{m:"auto",children:Object(a.jsx)(x.a,{variant:"h6",align:"center",gutterBottom:!0,children:"KOSONG"})}):null]}),Object(a.jsx)(Ke.a,{color:"primary",size:"small",className:e.fab,onClick:function(){S(!0)},children:Object(a.jsx)(ze.a,{})}),Object(a.jsx)(Ve.a,{open:w,onClose:function(){S(!1)},fullWidth:!0,children:Object(a.jsx)(xn,{headerTitle:"Tambah Riwayat Bacaan Murid",btnTitle:{normal:"BUAT",loading:"MEMBUAT..."},onSubmit:function(){var e=Object(A.a)(T.a.mark((function e(n,a,c,r,i,s,o,b,d){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(P(),t,{type:n,hal_awal:Number(a),hal_akhir:Number(c),surat_awal:r,surat_akhir:i,ayat_awal:Number(s),ayat_akhir:Number(o),comment:b,tanggal:d}).then((function(e){if(e.ok){N("Berhasil menambahkan"),S(!1),l(!0);var n=j.length+1;return u([]),cn(P(),t,0,n).then((function(e){e.ok?e.json().then((function(e){var t=e.count,n=e.progresses;g(n.length<t),u(n),l(!1)})):l(!1)})),!0}return N("Gagal menambahkan"),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r,i,l,s,o){return e.apply(this,arguments)}}()})}),Object(a.jsx)(ce.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},message:R,open:R,autoHideDuration:3e3,onClose:function(){N(null)}},R)]})}function kn(){var e=Object(Y.c)((function(e){return e.loginUser})),t=Object(b.h)().studentId,n=Object(c.useState)(null),r=Object(d.a)(n,2),i=r[0],l=r[1],s=Object(c.useState)(!0),o=Object(d.a)(s,2),j=o[0],u=o[1];return Object(c.useEffect)((function(){(function(e,t){return E("".concat(k,"b/student/get/").concat(e),"GET",{token:t})})(t,P()).then((function(e){e.ok?e.json().then((function(e){l(e),u(!1)})):u(!1)}))}),[t]),Object(a.jsx)(ke,{loginUser:e,children:j?Object(a.jsx)(Qt,{tabs:[{label:"Bacaan",url:"/s/".concat(t)},{label:"Pembayaran",url:"/s/".concat(t,"/pembayaran")}],number:5}):i?Object(a.jsx)(Zt,{student:i,tabs:[{label:"Bacaan",url:"/s/".concat(t)},{label:"Pembayaran",url:"/s/".concat(t,"/pembayaran")}],children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/s/:studentId/pembayaran",children:Object(a.jsx)(an,{})}),Object(a.jsx)(b.b,{path:"/s/:studentId",children:Object(a.jsx)(vn,{})})]})}):Object(a.jsx)(h.a,{height:"70vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:Object(a.jsx)(x.a,{variant:"h5",children:"Murid tidak ada."})})})}function wn(){var e=Object(b.g)(),t=Object(Y.b)(),n=Object(Y.c)((function(e){return e.loginUser})),i=Object(c.useState)(!0),l=Object(d.a)(i,2),s=l[0],o=l[1];if(Object(c.useEffect)((function(){if(null===n){var a=P();null===a?e.push("/login"):(o(!0),function(e){return E("".concat(k,"b/user/profile"),"GET",{token:e})}(a).then((function(n){n.ok?n.json().then((function(e){t(q(e)),o(!1)})):e.push("/login")})))}}),[n,t,e]),s)return Object(a.jsx)(z,{});var j=null;return"student"===n.role?j=n.approved_student?[Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(It,{})})]:Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(J,{})}):"teacher"===n.role&&(j=[Object(a.jsx)(b.b,{path:"/a/:announcementId",children:Object(a.jsx)(qt,{})}),Object(a.jsx)(b.b,{path:"/s/:studentId",children:Object(a.jsx)(kn,{})}),Object(a.jsx)(b.b,{path:"/students",children:Object(a.jsx)(dt,{})}),Object(a.jsx)(b.b,{path:"/payment",children:Object(a.jsx)(ft,{})}),Object(a.jsx)(b.b,{path:"/log",children:Object(a.jsx)(Fe,{})}),Object(a.jsx)(b.b,{path:"/profile",children:Object(a.jsx)(Lt,{})}),Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(it,{})})]),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("title",{children:"SIPEMA"})}),Object(a.jsx)(b.d,{children:j})]})}n(141);Ae.a.locale("id");var Sn=Object(s.a)({palette:{background:{default:"#ffffff"}}});console.log(Sn);var Tn=function(){return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)(o.a,{theme:Sn,children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(u.a,{children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/login",children:Object(a.jsx)(I,{})}),Object(a.jsx)(b.b,{path:"/register/token/:token",children:Object(a.jsx)(K,{})}),Object(a.jsx)(b.b,{path:"/register",children:Object(a.jsx)(H,{})}),Object(a.jsx)(b.b,{path:"/password/reset/token/:token",children:Object(a.jsx)(V,{})}),Object(a.jsx)(b.b,{path:"/password/reset",children:Object(a.jsx)(F,{})}),Object(a.jsx)(b.b,{path:"/",children:Object(a.jsx)(wn,{})}),Object(a.jsx)(b.b,{path:"*",children:Object(a.jsx)(G,{})})]})})]})})},An=n(63),Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return t.payload;case"LOG_OUT":return null;default:return e}},En=Object(An.b)({loginUser:Cn}),Bn=Object(An.c)(En,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Y.a,{store:Bn,children:Object(a.jsx)(Tn,{})})}),document.getElementById("root"))}},[[142,1,2]]]);