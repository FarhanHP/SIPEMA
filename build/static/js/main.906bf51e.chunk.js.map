{"version":3,"sources":["utils.js","setting.js","request/index.js","component/falert.jsx","local_storage.js","view/login.jsx","request/user.js","view/page404.jsx","view/register.jsx","view/forget_password.jsx","view/loading.jsx","view/register_confirm.jsx","view/reset_password.jsx","view/after_login/not_approved.jsx","view/after_login/index.jsx","actions/index.js","App.js","reducer/login_user.js","reducer/index.js","index.js"],"names":["isEmail","email","match","baseUrl","site","request","url","method","headers","body","signal","a","fetch","mode","cache","credentials","redirect","referrerPolicy","JSON","stringify","catch","e","console","warn","message","response","FAlert","props","severity","title","Alert","AlertTitle","getLoginToken","window","localStorage","getItem","Login","useState","emailErr","setEmailErr","passwordErr","setPasswordErr","loading","setLoading","errorMsg","setErrMsg","emailRef","React","createRef","passwordRef","onSubmit","current","value","password","length","login","then","res","status","json","data","token","setItem","location","href","Fragment","Helmet","Box","display","minHeight","width","margin","p","Typography","variant","align","gutterBottom","my","TextField","fullWidth","label","placeholder","inputRef","error","helperText","onKeyUp","event","keyCode","preventDefault","type","Button","color","disabled","onClick","to","Page404","Register","fullnameErr","setFullnameErr","rpasswordErr","setRpasswordErr","successMsg","setSuccessMsg","setErrorMsg","fullnameRef","rpasswordRef","fullname","rpassword","registerRequest","mt","ForgetPassword","errMsg","succMsg","setSuccMsg","resetPasswordRequest","flexDirection","xs","sm","IconButton","component","Link","ArrowBack","Loading","CircularProgress","number","RegisterConfirm","useParams","useEffect","register","ResetPassword","submitLoading","setSubmitLoading","passErr","setPassErr","rpassErr","setRpassErr","succAlert","setSuccAlert","errAlert","setErrAlert","passRef","rpassRef","checkResetPasswordToken","pass","rpass","resetPassword","NotApproved","loginUser","useSelector","state","mb","logout","ok","removeItem","Main","history","useHistory","dispatch","useDispatch","push","getProfile","payload","routes","role","approved","path","useStyles","makeStyles","root","backgroundColor","App","classes","CssBaseline","className","loginUserReducer","action","allReducer","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.906bf51e.chunk.js","sourcesContent":["export const isEmail = (email) => {\r\n  // eslint-disable-next-line\r\n  const regex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g\r\n\r\n  return email.match(regex);\r\n}","//deploy: https://sipema.herokuapp.com/\r\nexport const baseUrl = \"https://sipema.herokuapp.com/\";\r\n\r\nexport const site = \"sipema.herokuapp.com\";","export const request = async (url, method, headers, body, signal) => {\r\n  const response = await fetch(url, {\r\n    method: method, // *GET, POST, PUT, DELETE, etc.\r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: headers,\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n    body: JSON.stringify(body), // body data type must match \"Content-Type\" header\r\n    signal: signal\r\n  }).catch(e => {\r\n    console.warn(`Fetch 1 error: ${e.message}`);\r\n  });\r\n  \r\n  return response;\r\n}","import {Alert, AlertTitle} from \"@material-ui/lab\";\r\n\r\nexport default function FAlert(props){\r\n  const severity = props.severity;\r\n\r\n  const title = props.title;\r\n\r\n  const body = props.body;\r\n\r\n  return(\r\n    <Alert severity={severity}>\r\n      <AlertTitle>\r\n        {title}\r\n      </AlertTitle>\r\n\r\n      {body}\r\n    </Alert>\r\n  );\r\n}","export const getLoginToken = ()=>{\r\n  return window.localStorage.getItem(\"login_token\");\r\n}\r\n\r\nexport const setLoginToken = token => {\r\n  window.localStorage.setItem(\"login_token\", token)\r\n}\r\n\r\nexport const deleteLoginToken = () => {\r\n  window.localStorage.removeItem(\"login_token\")\r\n}","import { Box, Typography, TextField, Button } from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport React, {useState} from \"react\";\r\nimport {isEmail} from \"../utils\";\r\nimport {login} from \"../request/user\";\r\nimport FAlert from \"../component/falert\";\r\nimport { setLoginToken } from \"../local_storage\";\r\n\r\nexport default function Login(){\r\n  const [emailErr, setEmailErr] = useState(null);\r\n  const [passwordErr, setPasswordErr] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrMsg] = useState(null);\r\n  \r\n  const emailRef = React.createRef();\r\n  const passwordRef = React.createRef();\r\n\r\n  const onSubmit = ()=>{\r\n    const email = emailRef.current.value;\r\n    const password = passwordRef.current.value;\r\n\r\n    setErrMsg(null);\r\n    setEmailErr(null);\r\n    setPasswordErr(null);\r\n\r\n    if(email.length <= 0){\r\n      setEmailErr(\"Tidak boleh kosong\");\r\n    }\r\n    else if(!isEmail(email)){\r\n      setEmailErr(\"Email tidak berlaku\");\r\n    }\r\n    else if(password.length <= 0){\r\n      setPasswordErr(\"Tidak boleh kosong\")\r\n    }\r\n    else{\r\n      setLoading(true);\r\n\r\n      login(email, password).then(res => {\r\n        if(res.status === 500){\r\n          setErrMsg(\"Terjadi masalah, mohon coba lagi nanti.\")\r\n          setLoading(false)\r\n        }\r\n        else if(res.status >= 400){\r\n          setErrMsg(\"Email atau password salah.\");\r\n          setLoading(false)\r\n        }\r\n        else{\r\n          res.json().then(data => {\r\n            setLoginToken(data.token);\r\n            window.location.href = \"/\";\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    <Helmet>\r\n      <title>Login SIPEMA</title>\r\n    </Helmet>\r\n\r\n    <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n      <Box margin=\"auto\" width=\"320px\" p=\"10px\">\r\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n          SIPEMA\r\n        </Typography>\r\n\r\n        <Typography align=\"center\" gutterBottom>\r\n          Sistem Informasi Pengajian Musholla Al-Ikhlas\r\n        </Typography>\r\n\r\n        {errorMsg ? (\r\n          <Box my=\"20px\">\r\n            <FAlert severity={\"error\"} title={\"Login Error\"} body={errorMsg} />\r\n          </Box>\r\n        ) : null}\r\n\r\n        <Box my=\"40px\">\r\n          <TextField fullWidth label=\"Email\" placeholder=\"Masukan email anda...\" inputRef={emailRef} error={emailErr} helperText={emailErr} onKeyUp={(event) => {\r\n            if(event.keyCode === 13){\r\n              event.preventDefault();\r\n\r\n              onSubmit();\r\n            }\r\n          }} />\r\n        </Box>\r\n\r\n        <Box my=\"40px\">\r\n          <TextField fullWidth label=\"Password\" type=\"password\" placeholder=\"Masukan password anda...\" inputRef={passwordRef} error={passwordErr} helperText={passwordErr} onKeyUp={(event) => {\r\n            if(event.keyCode === 13){\r\n              event.preventDefault();\r\n\r\n              onSubmit();\r\n            }\r\n          }} />\r\n        </Box>\r\n\r\n        <Box my=\"20px\">\r\n          <Button variant=\"contained\" color=\"primary\" fullWidth disabled={loading} onClick={onSubmit}>\r\n            {loading ? \"MENCOBA MASUK...\" : \"MASUK\"}\r\n          </Button>\r\n        </Box>\r\n\r\n        <Typography gutterBottom variant=\"body1\" align=\"center\">\r\n          <Link to=\"/password/reset\">Lupa Password</Link>\r\n        </Typography>\r\n\r\n        <Typography gutterBottom variant=\"body1\" align=\"center\">\r\n          Belum punya akun ? <Link to=\"/register\">Daftar</Link>\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n    </React.Fragment>\r\n  );\r\n}","import {baseUrl} from \"../setting\";\r\nimport {request} from \"./\";\r\n\r\nexport const getProfile = (token) => {\r\n  return request(`${baseUrl}b/user/profile`, \"GET\", {\r\n    token\r\n  })\r\n}\r\n\r\nexport const login = (email, password) => {\r\n  return request(`${baseUrl}b/user/login`, \"POST\", {\r\n    \"Content-Type\" : \"application/json\"\r\n  }, {\r\n    email, password\r\n  })\r\n}\r\n\r\nexport const registerRequest = (email, fullname, password) => {\r\n  return request(`${baseUrl}b/user/register/request`, \"POST\", {\r\n    'Content-Type': 'application/json'\r\n  }, {\r\n    email,\r\n    fullname,\r\n    password\r\n  })\r\n}\r\n\r\nexport const register = (token) => {\r\n  return request(`${baseUrl}b/user/register/token/${token}`, \"PUT\");\r\n}\r\n\r\nexport const resetPasswordRequest = (email) => {\r\n  return request(`${baseUrl}b/user/password/reset`, \"POST\", {\r\n    \"Content-Type\" : \"application/json\"\r\n  }, {\r\n    email\r\n  })\r\n}\r\n\r\nexport const resetPassword = (token, password) => {\r\n  return request(`${baseUrl}b/user/password/reset/token/${token}`, \"PUT\", {\r\n    \"Content-Type\" : \"application/json\"\r\n  }, {\r\n    password\r\n  })\r\n}\r\n\r\nexport const checkResetPasswordToken = (token) => {\r\n  return request(`${baseUrl}b/user/password/reset/check/token/${token}`, \"GET\")\r\n}\r\n\r\nexport const logout = token => {\r\n  return request(`${baseUrl}b/user/logout`, \"DELETE\", {\r\n    token\r\n  })\r\n}","import {Box, Typography} from \"@material-ui/core\";\r\nimport {site} from \"../setting\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Page404(){\r\n  return (\r\n    <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n      <Box margin=\"auto\">\r\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n          ERROR 404: Halaman yang kamu cari tidak ditemukan :(\r\n        </Typography>\r\n\r\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n          <Link href={\"/\"}>{site}</Link>\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}","import {Box, Typography, TextField, Button} from \"@material-ui/core\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport React, {useState} from \"react\"\r\nimport { Link } from \"react-router-dom\";\r\nimport {isEmail} from \"../utils\";\r\nimport {registerRequest} from \"../request/user\";\r\nimport FAlert from \"../component/falert\";\r\n\r\nexport default function Register(){\r\n  const [emailErr, setEmailErr] = useState(null);\r\n\r\n  const [fullnameErr, setFullnameErr] = useState(null);\r\n\r\n  const [passwordErr, setPasswordErr] = useState(null);\r\n\r\n  const [rpasswordErr, setRpasswordErr] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [successMsg, setSuccessMsg] = useState(null);\r\n\r\n  const [errorMsg, setErrorMsg] = useState(null)\r\n\r\n  const emailRef = React.createRef();\r\n\r\n  const fullnameRef = React.createRef();\r\n\r\n  const passwordRef = React.createRef();\r\n\r\n  const rpasswordRef = React.createRef();\r\n\r\n  const onSubmit = ()=>{\r\n    const email = emailRef.current.value;\r\n    const fullname = fullnameRef.current.value;\r\n    const password = passwordRef.current.value;\r\n    const rpassword = rpasswordRef.current.value;\r\n\r\n    setEmailErr(null);\r\n    setFullnameErr(null);\r\n    setPasswordErr(null);\r\n    setRpasswordErr(null);\r\n    setSuccessMsg(null);\r\n    setErrorMsg(null);\r\n\r\n    if(email.length <= 0){\r\n      setEmailErr(\"Tidak boleh kosong\")\r\n    }\r\n\r\n    else if(!isEmail(email)){\r\n      setEmailErr(\"Email tidak berlaku\")\r\n    }\r\n\r\n    else if(fullname.length <= 0){\r\n      setFullnameErr(\"Tidak boleh kosong\")\r\n    }\r\n\r\n    else if(password.length < 8){\r\n      setPasswordErr(\"Password tidak boleh kurang dari 8 karakter\")\r\n    }\r\n\r\n    else if(password !== rpassword){\r\n      setRpasswordErr(\"Harus sama\")\r\n      setPasswordErr(\"Harus sama\")\r\n    }\r\n\r\n    else{\r\n      setLoading(true);\r\n\r\n      registerRequest(email, fullname, password).then(res => {\r\n        if(res.status === 500){\r\n          setErrorMsg(\"Terjadi masalah, mohon coba lagi nanti.\")\r\n        }\r\n\r\n        else if(res.status === 409){\r\n          setEmailErr(\"Email sudah dipakai\")\r\n        }\r\n\r\n        else {\r\n          setSuccessMsg(\"Silakan cek email anda untuk verifikasi\")\r\n        }\r\n\r\n        setLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n    <Helmet>\r\n      <title>\r\n        Daftar SIPEMA\r\n      </title>\r\n    </Helmet>\r\n\r\n    <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n      <Box margin=\"auto\" width=\"320px\" p=\"10px\">\r\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n          SIPEMA\r\n        </Typography>\r\n\r\n        <Typography align=\"center\" gutterBottom>\r\n          Sistem Informasi Pengajian Musholla Al-Ikhlas\r\n        </Typography>\r\n\r\n        {successMsg ? (\r\n          <Box my=\"20px\">\r\n            <FAlert severity=\"success\" title=\"Berhasil Mendaftar\" body={successMsg}/>\r\n          </Box>\r\n        ) : errorMsg ? (\r\n          <Box my=\"20px\">\r\n            <FAlert severity=\"error\" title=\"Gagal Mendaftar\" body={errorMsg}/>\r\n          </Box>\r\n        ) : null}\r\n\r\n        <Box my=\"20px\">\r\n          <TextField label=\"Email\" placeholder=\"Masukan email anda...\" fullWidth inputRef={emailRef} error={emailErr} helperText={emailErr} onKeyUp={(event)=>{\r\n            if(event.keyCode === 13){\r\n              event.preventDefault();\r\n\r\n              onSubmit();\r\n            }\r\n          }}/>\r\n        </Box>\r\n\r\n        <Box my=\"20px\">\r\n          <TextField label=\"Nama lengkap\" placeholder=\"Masukan nama lengkap anda...\" fullWidth inputRef={fullnameRef} error={fullnameErr} helperText={fullnameErr} onKeyUp={(event)=>{\r\n            if(event.keyCode === 13){\r\n              event.preventDefault();\r\n\r\n              onSubmit();\r\n            }\r\n          }}/>\r\n        </Box>\r\n\r\n        <Box my=\"20px\">\r\n          <TextField label=\"Password\" type=\"password\" placeholder=\"Masukan password anda...\" fullWidth inputRef={passwordRef} error={passwordErr} helperText={passwordErr} onKeyUp={(event)=>{\r\n            if(event.keyCode === 13){\r\n              event.preventDefault();\r\n\r\n              onSubmit();\r\n            }\r\n          }}/>\r\n        </Box>\r\n\r\n        <Box my=\"20px\">\r\n          <TextField label=\"Ulangi password\" placeholder=\"Ulangi password anda...\" fullWidth inputRef={rpasswordRef} error={rpasswordErr} type=\"password\" helperText={rpasswordErr} onKeyUp={(event)=>{\r\n            if(event.keyCode === 13){\r\n              event.preventDefault();\r\n\r\n              onSubmit();\r\n            }\r\n          }}/>\r\n        </Box>\r\n\r\n        <Box mt=\"40px\">\r\n          <Button variant=\"contained\" color=\"primary\" fullWidth disabled={loading} onClick={onSubmit}>\r\n            {loading ? \"MENDAFTAR...\" : \"DAFTAR\"}\r\n          </Button>\r\n        </Box>\r\n\r\n        <Box my=\"20px\">\r\n          <Typography align=\"center\">\r\n            Sudah punya akun ? <Link to=\"/login\">Login</Link>\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n    </React.Fragment>\r\n  );\r\n}","import React, {useState} from \"react\";\r\nimport {Box, Typography, Button, TextField, IconButton} from \"@material-ui/core\";\r\nimport {ArrowBack as ArrowBackIcon} from \"@material-ui/icons\"\r\nimport { Helmet } from \"react-helmet\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { isEmail } from \"../utils\";\r\nimport { resetPasswordRequest } from \"../request/user\";\r\nimport FAlert from \"../component/falert\";\r\n\r\nexport default function ForgetPassword(){\r\n  const [emailErr, setEmailErr] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [errMsg, setErrMsg] = useState(null);\r\n\r\n  const [succMsg, setSuccMsg] = useState(null);\r\n\r\n  const emailRef = React.createRef();\r\n\r\n  const onSubmit = ()=>{\r\n    setEmailErr(null);\r\n    setErrMsg(null);\r\n    setSuccMsg(null);\r\n\r\n    const email = emailRef.current.value;\r\n\r\n    if(email.length <= 0){\r\n      setEmailErr(\"Tidak boleh kosong\");\r\n    }\r\n    else if(!isEmail(email)){\r\n      setEmailErr(\"Email tidak berlaku\");\r\n    }\r\n    else{\r\n      setLoading(true);\r\n\r\n      resetPasswordRequest(email).then(res => {\r\n        if(res.status === 500){\r\n          setErrMsg(\"Terjadi masalah, mohon coba lagi nanti.\")\r\n        }\r\n        else if(res.status===404){\r\n          setErrMsg(\"Email tidak terdaftar.\")\r\n        }\r\n        else{\r\n          setSuccMsg(\"Silakan cek email anda. Jika tidak ada, coba cek folder spam.\")\r\n        }\r\n\r\n        setLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Helmet>\r\n        <title>Lupa Password SIPEMA</title>\r\n      </Helmet>\r\n\r\n      <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\" flexDirection=\"column\">\r\n        <Box p={{\r\n          xs: \"0\",\r\n          sm: \"10px\"\r\n        }}>\r\n          <IconButton component={Link} to=\"/login\">\r\n            <ArrowBackIcon/>\r\n          </IconButton>\r\n        </Box>\r\n\r\n        <Box margin=\"auto\" width=\"320px\" p=\"10px\">\r\n          <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n            Lupa Password Akun SIPEMA\r\n          </Typography>\r\n\r\n          <Typography align=\"center\" gutterBottom>\r\n            Anda akan dikirimi email yang berisi tautan untuk mengganti password anda.\r\n          </Typography>\r\n\r\n          {succMsg ? (\r\n            <Box my=\"20px\">\r\n              <FAlert severity={\"success\"} title=\"Permintaan reset password berhasil\" body={succMsg} />\r\n            </Box>\r\n          ) : errMsg ? (\r\n            <Box my=\"20px\">\r\n              <FAlert severity={\"error\"} title=\"Permintaan reset password gagal\" body={errMsg} />\r\n            </Box>\r\n          ) : null}\r\n\r\n          <Box my=\"40px\">\r\n            <TextField label=\"Email\" placeholder=\"Masukan email anda...\" fullWidth inputRef={emailRef} error={emailErr} helperText={emailErr} onKeyUp={(event) => {\r\n              if(event.keyCode === 13){\r\n                event.preventDefault()\r\n\r\n                onSubmit();\r\n              }\r\n            }} />\r\n          </Box>\r\n\r\n          <Box display=\"flex\" flexDirection={\"row-reverse\"}>\r\n            <Button variant=\"contained\" color=\"primary\" fullWidth disabled={loading} onClick={onSubmit}>\r\n              {loading ? \"MERESET PASSWORD...\" : \"RESET PASSWORD\"}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </React.Fragment>\r\n  )\r\n}","import { LocalDining } from \"@material-ui/icons\";\r\n\r\nimport {Box, CircularProgress} from \"@material-ui/core\"\r\n\r\nexport default function Loading(){\r\n  return (\r\n    <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n      <Box margin=\"auto\">\r\n        <CircularProgress number={100} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}","import { Box, Typography } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {register} from \"../request/user\";\r\nimport {site} from \"../setting\";\r\nimport Loading from \"./loading\";\r\n\r\nexport default function RegisterConfirm(){\r\n  const {token} = useParams();\r\n\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(()=>{\r\n    setLoading(true)\r\n\r\n    register(token).then(res => {\r\n      if(res.status === 500){\r\n        setErrorMsg(\"ERROR 500: Terjadi masalah, mohon coba lagi nanti.\")\r\n      }\r\n\r\n      else if(res.status === 401){\r\n        setErrorMsg(\"ERROR 401: Token sudah kadaluarsa.\")\r\n      }\r\n\r\n      else if(res.status === 403){\r\n        setErrorMsg(\"ERROR 403: Token tidak berlaku.\")\r\n      }\r\n\r\n      setLoading(false)\r\n    })\r\n  }, [token])\r\n  \r\n  if(loading){\r\n    return(\r\n      <Loading />\r\n    )\r\n  }\r\n\r\n  else if(errorMsg){\r\n    return (\r\n      <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n        <Box margin=\"auto\">\r\n          <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n            {errorMsg}\r\n          </Typography>\r\n\r\n          <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n            <a href={\"/\"}>{site}</a>\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  else{\r\n    return(\r\n      //will be changed\r\n      <p>Success</p>\r\n    )\r\n  }\r\n}","import { Box, Typography, TextField, Button } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { checkResetPasswordToken, resetPassword } from \"../request/user\";\r\nimport { site } from \"../setting\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport FAlert from \"../component/falert\";\r\nimport Loading from \"./loading\";\r\n\r\nexport default function ResetPassword(){\r\n  const {token} = useParams();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [errMsg, setErrMsg] = useState(null);\r\n\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n\r\n  const [passErr, setPassErr] = useState(null);\r\n\r\n  const [rpassErr, setRpassErr] = useState(null);\r\n\r\n  const [succAlert, setSuccAlert] = useState(null);\r\n\r\n  const [errAlert, setErrAlert] = useState(null)\r\n\r\n  const passRef = React.createRef();\r\n\r\n  const rpassRef = React.createRef();\r\n\r\n  useEffect(()=>{\r\n    setLoading(true);\r\n\r\n    checkResetPasswordToken(token).then(res => {\r\n      if(res.status === 500){\r\n        setErrMsg(\"ERROR 500: Terjadi masalah, mohon coba lagi nanti.\")\r\n      }\r\n\r\n      else if(res.status === 401){\r\n        setErrMsg(\"ERROR 401: Token kadaluarsa.\")\r\n      }\r\n\r\n      else if(res.status === 404){\r\n        setErrMsg(\"ERROR 404: Token tidak valid.\")\r\n      }\r\n\r\n      setLoading(false);\r\n    })\r\n  }, [token])\r\n  \r\n  const onSubmit = ()=>{\r\n    setSuccAlert(null);\r\n    setErrAlert(null);\r\n    setPassErr(null);\r\n    setRpassErr(null);\r\n\r\n    const pass = passRef.current.value;\r\n\r\n    const rpass = rpassRef.current.value;\r\n\r\n    if(pass.length < 8){\r\n      setPassErr(\"Panjang password tidak boleh kurang dari 8 karakter\")\r\n    }\r\n\r\n    else if(pass !== rpass){\r\n      setPassErr(\"Harus sama\");\r\n      setRpassErr(\"Harus sama\");\r\n    }\r\n\r\n    else{\r\n      setSubmitLoading(true);\r\n\r\n      resetPassword(token, pass).then(res => {\r\n        if(res.status === 500){\r\n          setErrAlert(\"Terjadi masalah, mohon coba lagin nanti.\");\r\n        }\r\n\r\n        else if(res.status === 404){\r\n          setErrAlert(\"Token tidak valid.\")\r\n        }\r\n\r\n        else if(res.status === 401){\r\n          setErrAlert(\"Token telah kadaluarsa.\")\r\n        }\r\n\r\n        else{\r\n          setSuccAlert(\r\n            <React.Fragment>\r\n              <Typography gutterBottom>\r\n                Silakan login dengan password baru anda.\r\n              </Typography>\r\n\r\n              <Box display=\"flex\">\r\n                <Box margin=\"auto\">\r\n                  <Button color=\"primary\" component={Link} to=\"/login\">\r\n                    LOGIN\r\n                  </Button>\r\n                </Box>\r\n              </Box>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n\r\n        setSubmitLoading(false)\r\n      })\r\n    }\r\n  }\r\n\r\n  if(loading){\r\n    return(\r\n      <Loading/>\r\n    );\r\n  }\r\n\r\n  else if(errMsg){\r\n    return (\r\n      <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n        <Box margin=\"auto\" p=\"10px\">\r\n          <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n            {errMsg}\r\n          </Typography>\r\n\r\n          <Typography variant=\"h6\" align=\"center\" gutterBottom>\r\n            <Link to=\"/\">{site}</Link>\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  else{\r\n    return (\r\n      <React.Fragment>\r\n      <Helmet>\r\n        <title>Ganti Password SIPEMA</title>\r\n      </Helmet>\r\n\r\n      <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n        <Box margin=\"auto\" p=\"10px\" width=\"320px\">\r\n          <Typography align=\"center\" variant=\"h5\" gutterBottom>\r\n            Ganti Password Akun SIPEMA\r\n          </Typography>\r\n\r\n          {succAlert ? (\r\n            <Box my=\"20px\">\r\n              <FAlert severity=\"success\" title=\"Berhasil Mengganti Password\" body={succAlert} />\r\n            </Box>\r\n          ) : errAlert ? (\r\n            <FAlert severity=\"error\" title=\"Gagal Mengganti Password\" body={errAlert} />\r\n          ) : null}\r\n\r\n          <Box my=\"20px\">\r\n            <TextField type=\"password\" fullWidth label=\"Password Baru\" placeholder={\"Masukan password baru anda...\"} error={passErr} helperText={passErr} inputRef={passRef} onKeyUp={event => {\r\n              if(event.keyCode === 13){\r\n                event.preventDefault();\r\n\r\n                onSubmit();\r\n              }\r\n            }}/>\r\n          </Box>\r\n\r\n          <Box my=\"20px\">\r\n            <TextField type=\"password\" fullWidth label=\"Ulangi Password\" placeholder={\"Ulangi password baru anda...\"} error={rpassErr} helperText={rpassErr} inputRef={rpassRef} onKeyUp={event => {\r\n              if(event.keyCode === 13){\r\n                event.preventDefault();\r\n\r\n                onSubmit();\r\n              }\r\n            }}/>\r\n          </Box>\r\n\r\n          <Box my=\"40px\">\r\n            <Button fullWidth variant=\"contained\" color=\"primary\" disabled={submitLoading} onClick={onSubmit}>\r\n              {submitLoading ? \"MENGGANTI PASSWORD...\" : \"GANTI PASSWORD\"}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}","import { Box, Button, Typography } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getLoginToken, deleteLoginToken } from \"../../local_storage\";\r\nimport { logout } from \"../../request/user\";\r\n\r\nexport default function NotApproved(){\r\n  const token = getLoginToken();\r\n\r\n  const loginUser = useSelector(state=>{\r\n    return state.loginUser\r\n  })\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  return (\r\n    <Box display=\"flex\" minHeight=\"100vh\" width=\"100%\">\r\n      <Box margin=\"auto\" width=\"320px\">\r\n        <Typography gutterBottom align=\"center\">\r\n          Selamat datang di SIPEMA\r\n        </Typography>\r\n\r\n        <Box mb=\"30px\"/>\r\n\r\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n          {loginUser.fullname}\r\n        </Typography>\r\n\r\n        <Box mb=\"30px\"/>\r\n\r\n        <Typography gutterBottom align=\"center\">\r\n          Pendaftaran Anda belum disetujui, silakan hubungi guru anda.\r\n        </Typography>\r\n\r\n        <Box mb=\"40px\"/>\r\n\r\n        <Box my=\"40px\" display=\"flex\">\r\n          <Box margin=\"auto\">\r\n            <Button color=\"primary\" disabled={loading} onClick={()=>{\r\n              setLoading(true)\r\n\r\n              logout(token).then(res => {\r\n                if(res.ok){\r\n                  deleteLoginToken()\r\n\r\n                  window.location.href=\"/login\"\r\n                }\r\n\r\n                setLoading(false)\r\n              })\r\n            }}>\r\n              {loading ? \"LOGGING OUT...\" : \"LOG OUT\"}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Route, useHistory, Switch } from \"react-router-dom\";\r\nimport { login } from \"../../actions\";\r\nimport { getLoginToken } from \"../../local_storage\";\r\nimport { getProfile } from \"../../request/user\";\r\nimport Loading from \"../loading\";\r\nimport NotApproved from \"./not_approved\";\r\n\r\nexport default function Main(){\r\n  const history = useHistory();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const loginUser = useSelector(state => {\r\n    return state.loginUser\r\n  })\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(()=>{\r\n    if(loginUser === null){\r\n      const token = getLoginToken();\r\n\r\n      if(token === null){\r\n        history.push(\"/login\")\r\n      }\r\n\r\n      else{\r\n        setLoading(true)\r\n\r\n        getProfile(token).then(res => {\r\n          if(res.ok){\r\n            res.json().then(data => {\r\n              dispatch(login(data))\r\n\r\n              setLoading(false)\r\n            })\r\n          }\r\n\r\n          else{\r\n            history.push(\"/login\")\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }, [loginUser, dispatch, history])\r\n\r\n  if(loading){\r\n    return (\r\n      <Loading/>\r\n    )\r\n  }\r\n  else{\r\n    let routes = null;\r\n\r\n    if(loginUser.role === \"student\"){\r\n      if(!loginUser.approved){\r\n        routes = (\r\n          <Route path=\"/\">\r\n            <NotApproved />\r\n          </Route>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n      <Helmet>\r\n        <title>SIPEMA</title>\r\n      </Helmet>\r\n\r\n      <Switch>\r\n        {routes}\r\n      </Switch>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}","export const login = loginUser => {\r\n  return {\r\n    type: \"LOG_IN\",\r\n\r\n    payload: loginUser\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  return {\r\n    type: \"LOG_OUT\"\r\n  }\r\n}","import { CssBaseline, makeStyles, Box } from \"@material-ui/core\";\nimport { BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport Login from \"./view/login\";\nimport Page404 from \"./view/page404\";\nimport Register from \"./view/register\";\nimport React from \"react\";\nimport ForgetPassword from \"./view/forget_password\";\nimport RegisterConfirm from \"./view/register_confirm\";\nimport ResetPassword from \"./view/reset_password\";\nimport Main from \"./view/after_login\";\n\nconst useStyles = makeStyles(()=>{\n  return {\n    root: {\n      backgroundColor: \"white\"\n    }\n  }\n})\n\nfunction App() {\n  const classes = useStyles();\n\n  return (\n    <React.Fragment>\n      <CssBaseline/>\n      \n      <Box className={classes.root}>\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n\n            <Route path=\"/register/token/:token\">\n              <RegisterConfirm />\n            </Route>\n\n            <Route path=\"/register\">\n              <Register />\n            </Route>\n\n            <Route path=\"/password/reset/token/:token\">\n              <ResetPassword />\n            </Route>\n\n            <Route path=\"/password/reset\">\n              <ForgetPassword />\n            </Route>\n\n            <Route path=\"/\">\n              <Main/>\n            </Route>\n\n            <Route path={\"*\"}>\n              <Page404/>\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      </Box>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","const loginUserReducer = (state=null, action) => {\r\n  switch(action.type){\r\n    case \"LOG_IN\":\r\n      return action.payload;\r\n    \r\n    case \"LOG_OUT\":\r\n      return null\r\n    \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default loginUserReducer","import {combineReducers} from \"redux\";\r\nimport loginUserReducer from \"./login_user\";\r\n\r\nconst allReducer = combineReducers({\r\n  loginUser: loginUserReducer\r\n});\r\n\r\nexport default allReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {createStore} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport allReducer from \"./reducer\";\n\nconst store = createStore(allReducer)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}